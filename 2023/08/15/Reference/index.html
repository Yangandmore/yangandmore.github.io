<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>强引用 弱引用 软引用 虚引用 | 杨小杨的博客</title>
  <meta name="keywords" content=" java ">
  <meta name="description" content="强引用 弱引用 软引用 虚引用 | 杨小杨的博客">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="强引用 弱引用 软引用 虚引用">
<meta property="og:type" content="article">
<meta property="og:title" content="强引用 弱引用 软引用 虚引用">
<meta property="og:url" content="http://example.com/2023/08/15/Reference/index.html">
<meta property="og:site_name" content="杨小杨的博客">
<meta property="og:description" content="强引用 弱引用 软引用 虚引用">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/Reference/0.png">
<meta property="og:image" content="http://example.com/img/Reference/1.png">
<meta property="og:image" content="http://example.com/img/Reference/2.png">
<meta property="og:image" content="http://example.com/img/Reference/4.png">
<meta property="article:published_time" content="2023-08-15T15:11:32.000Z">
<meta property="article:modified_time" content="2023-08-16T07:43:36.864Z">
<meta property="article:author" content="Yang">
<meta property="article:tag" content="java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/Reference/0.png">


<link rel="icon" href="/img/header.png">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="杨小杨的博客" type="application/atom+xml">
</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/header.png"/>
</a>
<div class="author">
    <span>Yang</span>
</div>

<div class="icon">
    
        
            <a title="github"
               href="https://github.com/Yangandmore"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="email"
               href="mailto:635408602@qq.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=635408602&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
</div>




<ul>
    <li>
        <div class="all active" data-rel="All">All
            
                <small>(199)</small>
            
        </div>
    </li>
    
        
            
                <li>
                    <div data-rel="数据库">
                        
                        数据库
                        <small>(4)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="包管理">
                        
                        包管理
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="编译的库">
                        
                        编译的库
                        <small>(5)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="分布式事务">
                        
                        分布式事务
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="分布式搜索">
                        
                        分布式搜索
                        <small>(5)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="后台">
                        
                        后台
                        <small>(3)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="机器学习">
                        
                        机器学习
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="快捷键">
                        
                        快捷键
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="流程引擎">
                        
                        流程引擎
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
        
    
        
            
                <li>
                    <div data-rel="设计模式">
                        
                        设计模式
                        <small>(27)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="数据结构">
                        <i class="fold iconfont icon-right"></i>
                        
                        数据结构
                        <small>(2)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="数据结构<--->算法分析">
                                        
                                        算法分析
                                        
                                            <small>(2
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="算法">
                        
                        算法
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
        
    
        
            
                <li>
                    <div data-rel="相机">
                        
                        相机
                        <small>(2)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="异常问题">
                        
                        异常问题
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="音视频">
                        
                        音视频
                        <small>(13)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="整洁代码">
                        
                        整洁代码
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="正则表达式">
                        
                        正则表达式
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Android">
                        <i class="fold iconfont icon-right"></i>
                        
                        Android
                        <small>(17)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="Android<--->热更新">
                                        
                                        热更新
                                        
                                            <small>(2
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="C/C++">
                        
                        C/C++
                        <small>(2)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="git">
                        
                        git
                        <small>(3)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Gradle">
                        
                        Gradle
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="java">
                        
                        java
                        <small>(26)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
        
    
        
            
                <li>
                    <div data-rel="JavaScript">
                        <i class="fold iconfont icon-right"></i>
                        
                        JavaScript
                        <small>(2)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="JavaScript<--->npm">
                                        
                                        npm
                                        
                                            <small>(1
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="jvm">
                        
                        jvm
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="nginx">
                        
                        nginx
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
                <li>
                    <div data-rel="ReactNative">
                        
                        ReactNative
                        <small>(10)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Redis">
                        
                        Redis
                        <small>(4)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="rust">
                        <i class="fold iconfont icon-right"></i>
                        
                        rust
                        <small>(46)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="rust<--->p2p">
                                        
                                        p2p
                                        
                                            <small>(1
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="spring">
                        <i class="fold iconfont icon-right"></i>
                        
                        spring
                        <small>(9)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="spring<--->java">
                                        
                                        java
                                        
                                            <small>(1
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="ssr">
                        
                        ssr
                        <small>(2)</small>
                        
                    </div>
                    
                </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="199">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>包管理</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>贝塞尔曲线</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>分布式事务</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>分布式搜索</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>构建工具</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>后台</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>汇编</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>机器学习</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>跨域</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>快捷键</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>流程引擎</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>热更新</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>设计模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>视频格式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>数据结构与算法分析</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>数据库</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>算法</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>图片格式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>相机</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>异步</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>异常问题</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>音频</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>音视频</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>整洁代码</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>正则表达式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>直播</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>android</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Android</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>C</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>camera</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Cpp</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>es</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ffmpeg</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Gradle</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>java</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>javaScript</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>jvm</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>libfaac</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>libjpeg-turbo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>libx264</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>libyuv</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Linux</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>NDK</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>nginx</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>react</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>React</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ReactNative</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Redis</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>RTMP</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>rust</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>seate</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>spring</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>springboot</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SQL</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>srs</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ssr</a>
            </li>
        
    </div>

</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        <a  class="All java "
           href="/2023/08/15/Reference/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="强引用 弱引用 软引用 虚引用">强引用 弱引用 软引用 虚引用</span>
            <span class="post-date" title="2023-08-15 15:11:32">2023/08/15</span>
        </a>
        
        <a  class="All java "
           href="/2023/08/05/UnSafe/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="Java中Unsafe">Java中Unsafe</span>
            <span class="post-date" title="2023-08-05 08:31:32">2023/08/05</span>
        </a>
        
        <a  class="All 算法 "
           href="/2023/07/31/%E7%BA%A2%E9%BB%91%E6%A0%91/"
           data-tag="算法"
           data-author="" >
            <span class="post-title" title="红黑树">红黑树</span>
            <span class="post-date" title="2023-07-31 20:11:01">2023/07/31</span>
        </a>
        
        <a  class="All java "
           href="/2023/07/25/HashMap/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="HashMap">HashMap</span>
            <span class="post-date" title="2023-07-25 22:31:46">2023/07/25</span>
        </a>
        
        <a  class="All java "
           href="/2023/07/25/Java_JNI/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="Java中使用JNI构建环境">Java中使用JNI构建环境</span>
            <span class="post-date" title="2023-07-25 19:22:35">2023/07/25</span>
        </a>
        
        <a  class="All java "
           href="/2023/07/25/JNI_1/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="JNI 一">JNI 一</span>
            <span class="post-date" title="2023-07-25 12:00:01">2023/07/25</span>
        </a>
        
        <a  class="All java "
           href="/2023/07/19/%E6%B3%9B%E5%9E%8B/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="Java 泛型 关于 ? extends super">Java 泛型 关于 ? extends super</span>
            <span class="post-date" title="2023-07-19 20:14:22">2023/07/19</span>
        </a>
        
        <a  class="All java "
           href="/2023/07/11/%E7%BA%BF%E7%A8%8B%E6%B1%A0/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="线程池">线程池</span>
            <span class="post-date" title="2023-07-11 19:22:35">2023/07/11</span>
        </a>
        
        <a  class="All java "
           href="/2023/07/01/gc/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="GC学习">GC学习</span>
            <span class="post-date" title="2023-07-01 23:02:35">2023/07/01</span>
        </a>
        
        <a  class="All java "
           href="/2023/06/19/jvm/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="jvm学习">jvm学习</span>
            <span class="post-date" title="2023-06-19 09:22:35">2023/06/19</span>
        </a>
        
        <a  class="All java "
           href="/2023/06/09/lambada/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="lambda表达式">lambda表达式</span>
            <span class="post-date" title="2023-06-09 09:22:35">2023/06/09</span>
        </a>
        
        <a  class="All java "
           href="/2023/06/09/javaStream/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="Java Stream管道数据处理操作">Java Stream管道数据处理操作</span>
            <span class="post-date" title="2023-06-09 09:22:35">2023/06/09</span>
        </a>
        
        <a  class="All java "
           href="/2023/06/01/%E5%85%A8%E5%B1%80id/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="全局ID">全局ID</span>
            <span class="post-date" title="2023-06-01 09:02:25">2023/06/01</span>
        </a>
        
        <a  class="All java "
           href="/2023/05/23/JVM%E5%B7%A5%E5%85%B7/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="JVM-工具">JVM-工具</span>
            <span class="post-date" title="2023-05-23 08:02:25">2023/05/23</span>
        </a>
        
        <a  class="All 相机 "
           href="/2023/04/24/%E7%9B%B8%E6%9C%BA%E5%AD%A6%E4%B9%A02/"
           data-tag="相机"
           data-author="" >
            <span class="post-title" title="相机学习2-我的富士学习">相机学习2-我的富士学习</span>
            <span class="post-date" title="2023-04-24 18:02:25">2023/04/24</span>
        </a>
        
        <a  class="All 相机 "
           href="/2023/04/09/%E7%9B%B8%E6%9C%BA%E5%AD%A6%E4%B9%A01/"
           data-tag="相机"
           data-author="" >
            <span class="post-title" title="相机学习1-基础部分">相机学习1-基础部分</span>
            <span class="post-date" title="2023-04-09 08:59:25">2023/04/09</span>
        </a>
        
        <a  class="All nginx "
           href="/2023/03/15/NginxProxyManager%E5%A2%9E%E5%8A%A0ssl/"
           data-tag="nginx"
           data-author="" >
            <span class="post-title" title="NginxProxyManager增加ssl">NginxProxyManager增加ssl</span>
            <span class="post-date" title="2023-03-15 23:24:22">2023/03/15</span>
        </a>
        
        <a  class="All jvm "
           href="/2023/03/15/JVM_SafePoint/"
           data-tag="jvm"
           data-author="" >
            <span class="post-title" title="JVM—SafePoint">JVM—SafePoint</span>
            <span class="post-date" title="2023-03-15 23:24:22">2023/03/15</span>
        </a>
        
        <a  class="All java "
           href="/2023/03/15/java%E5%AD%97%E8%8A%82%E7%A0%81%E6%8C%87%E4%BB%A4%E5%A4%A7%E5%85%A8/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="Java字节码指令大全">Java字节码指令大全</span>
            <span class="post-date" title="2023-03-15 23:24:22">2023/03/15</span>
        </a>
        
        <a  class="All java "
           href="/2023/03/15/java%E9%94%81/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="Java锁">Java锁</span>
            <span class="post-date" title="2023-03-15 23:24:22">2023/03/15</span>
        </a>
        
        <a  class="All java "
           href="/2023/03/15/java%E4%B8%AD%E7%9A%84CAS/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java中的CAS操作">java中的CAS操作</span>
            <span class="post-date" title="2023-03-15 22:01:12">2023/03/15</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/03/13/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F26/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-行为型模式的讨论">设计模式-行为型模式的讨论</span>
            <span class="post-date" title="2023-03-13 22:14:00">2023/03/13</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/27/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F24/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-结构型模式的讨论">设计模式-结构型模式的讨论</span>
            <span class="post-date" title="2023-02-27 07:43:01">2023/02/27</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F25/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-创建型模式的讨论">设计模式-创建型模式的讨论</span>
            <span class="post-date" title="2023-02-25 17:01:24">2023/02/25</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/18/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F0/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-目录">设计模式-目录</span>
            <span class="post-date" title="2023-02-18 15:04:05">2023/02/18</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/17/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F21/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-策略模式">设计模式-策略模式</span>
            <span class="post-date" title="2023-02-17 15:13:59">2023/02/17</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/17/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F22/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-模版模式">设计模式-模版模式</span>
            <span class="post-date" title="2023-02-17 15:13:59">2023/02/17</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/17/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F23/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-访问者模式">设计模式-访问者模式</span>
            <span class="post-date" title="2023-02-17 15:13:59">2023/02/17</span>
        </a>
        
        <a  class="All java "
           href="/2023/02/15/spire%E5%8C%85%E5%A4%84%E7%90%86%E6%96%87%E6%A1%A3/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="使用Spire包处理文档">使用Spire包处理文档</span>
            <span class="post-date" title="2023-02-15 16:54:16">2023/02/15</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/15/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F20/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-状态模式">设计模式-状态模式</span>
            <span class="post-date" title="2023-02-15 16:54:16">2023/02/15</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/14/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F17/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-中介者">设计模式-中介者</span>
            <span class="post-date" title="2023-02-14 10:50:00">2023/02/14</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/14/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F18/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-备忘录">设计模式-备忘录</span>
            <span class="post-date" title="2023-02-14 10:50:00">2023/02/14</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/14/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F19/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-观察者">设计模式-观察者</span>
            <span class="post-date" title="2023-02-14 10:50:00">2023/02/14</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/12/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F15/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-解释器">设计模式-解释器</span>
            <span class="post-date" title="2023-02-12 20:34:01">2023/02/12</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/12/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F16/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-迭代器">设计模式-迭代器</span>
            <span class="post-date" title="2023-02-12 20:34:01">2023/02/12</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/11/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F14/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-命令">设计模式-命令</span>
            <span class="post-date" title="2023-02-11 13:12:56">2023/02/11</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/11/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F12/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-代理">设计模式-代理</span>
            <span class="post-date" title="2023-02-11 07:43:01">2023/02/11</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/11/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F13/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-职责链">设计模式-职责链</span>
            <span class="post-date" title="2023-02-11 07:43:01">2023/02/11</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F11/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-享元">设计模式-享元</span>
            <span class="post-date" title="2023-02-10 23:12:38">2023/02/10</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/08/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F10/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-外观">设计模式-外观</span>
            <span class="post-date" title="2023-02-08 19:59:30">2023/02/08</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/07/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F9/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-装饰">设计模式-装饰</span>
            <span class="post-date" title="2023-02-07 18:47:30">2023/02/07</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/06/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F7/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式- 桥接">设计模式- 桥接</span>
            <span class="post-date" title="2023-02-06 19:46:00">2023/02/06</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/06/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F8/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式- 组合">设计模式- 组合</span>
            <span class="post-date" title="2023-02-06 19:46:00">2023/02/06</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/02/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F4/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-原型">设计模式-原型</span>
            <span class="post-date" title="2023-02-02 18:00:35">2023/02/02</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/02/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F5/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-单例">设计模式-单例</span>
            <span class="post-date" title="2023-02-02 18:00:35">2023/02/02</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/02/02/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F3/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-构建者模式">设计模式-构建者模式</span>
            <span class="post-date" title="2023-02-02 15:10:25">2023/02/02</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/01/31/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F2/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-抽象工厂">设计模式-抽象工厂</span>
            <span class="post-date" title="2023-01-31 15:55:25">2023/01/31</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/01/28/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F6/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-适配器">设计模式-适配器</span>
            <span class="post-date" title="2023-01-28 23:30:00">2023/01/28</span>
        </a>
        
        <a  class="All 快捷键 "
           href="/2023/01/28/idea%E5%BF%AB%E6%8D%B7%E9%94%AE/"
           data-tag="快捷键"
           data-author="" >
            <span class="post-title" title="idea快捷键(mac)-持续更新">idea快捷键(mac)-持续更新</span>
            <span class="post-date" title="2023-01-28 08:02:25">2023/01/28</span>
        </a>
        
        <a  class="All 设计模式 "
           href="/2023/01/28/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F1/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-工厂方法">设计模式-工厂方法</span>
            <span class="post-date" title="2023-01-28 08:02:25">2023/01/28</span>
        </a>
        
        <a  class="All 整洁代码 "
           href="/2023/01/28/%E9%87%8D%E6%9E%84%E4%BB%A3%E7%A0%811/"
           data-tag="整洁代码"
           data-author="" >
            <span class="post-title" title="观看Clean Code(整洁代码)记录-1">观看Clean Code(整洁代码)记录-1</span>
            <span class="post-date" title="2023-01-28 08:02:25">2023/01/28</span>
        </a>
        
        <a  class="All 异常问题 "
           href="/2022/09/27/eclipse-mac-err/"
           data-tag="异常问题"
           data-author="" >
            <span class="post-title" title="eclipse-mac-err">eclipse-mac-err</span>
            <span class="post-date" title="2022-09-27 22:24:54">2022/09/27</span>
        </a>
        
        <a  class="All 流程引擎 "
           href="/2022/09/16/activiti7/"
           data-tag="流程引擎"
           data-author="" >
            <span class="post-title" title="流程引擎-activiti7">流程引擎-activiti7</span>
            <span class="post-date" title="2022-09-16 10:01:11">2022/09/16</span>
        </a>
        
        <a  class="All 分布式事务 "
           href="/2022/09/04/seate/"
           data-tag="seate,分布式事务"
           data-author="" >
            <span class="post-title" title="配置seate">配置seate</span>
            <span class="post-date" title="2022-09-04 19:11:24">2022/09/04</span>
        </a>
        
        <a  class="All 分布式搜索 "
           href="/2022/09/01/es-java/"
           data-tag="es,分布式搜索"
           data-author="" >
            <span class="post-title" title="es在java环境中使用">es在java环境中使用</span>
            <span class="post-date" title="2022-09-01 22:11:48">2022/09/01</span>
        </a>
        
        <a  class="All 分布式搜索 "
           href="/2022/09/01/es-ik/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="es配置ik分词器及热更新">es配置ik分词器及热更新</span>
            <span class="post-date" title="2022-09-01 16:38:27">2022/09/01</span>
        </a>
        
        <a  class="All 分布式搜索 "
           href="/2022/08/06/es-7-change-password/"
           data-tag="es,分布式搜索"
           data-author="" >
            <span class="post-title" title="es修改密码">es修改密码</span>
            <span class="post-date" title="2022-08-06 23:37:16">2022/08/06</span>
        </a>
        
        <a  class="All 分布式搜索 "
           href="/2022/08/06/es-linux/"
           data-tag="es,分布式搜索"
           data-author="" >
            <span class="post-title" title="elk在linux上简单安装">elk在linux上简单安装</span>
            <span class="post-date" title="2022-08-06 21:02:25">2022/08/06</span>
        </a>
        
        <a  class="All 分布式搜索 "
           href="/2022/08/02/ELK/"
           data-tag="es,分布式搜索"
           data-author="" >
            <span class="post-title" title="ELK学习">ELK学习</span>
            <span class="post-date" title="2022-08-02 15:13:44">2022/08/02</span>
        </a>
        
        <a  class="All 包管理 "
           href="/2022/07/29/chocolatey/"
           data-tag="包管理"
           data-author="" >
            <span class="post-title" title="chocolatey">chocolatey</span>
            <span class="post-date" title="2022-07-29 16:56:39">2022/07/29</span>
        </a>
        
        <a  class="All spring "
           href="/2022/07/28/Spring-%E5%9F%BA%E7%A1%805/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="Spring-基础5">Spring-基础5</span>
            <span class="post-date" title="2022-07-28 21:11:57">2022/07/28</span>
        </a>
        
        <a  class="All spring "
           href="/2022/07/28/Spring-%E5%9F%BA%E7%A1%804/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="Spring-基础(四)">Spring-基础(四)</span>
            <span class="post-date" title="2022-07-28 15:50:59">2022/07/28</span>
        </a>
        
        <a  class="All spring "
           href="/2022/07/25/Spring-%E5%9F%BA%E7%A1%803/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="Spring-基础(三)">Spring-基础(三)</span>
            <span class="post-date" title="2022-07-25 21:51:47">2022/07/25</span>
        </a>
        
        <a  class="All spring "
           href="/2022/07/25/Spring-%E5%9F%BA%E7%A1%802/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="Spring-基础(二)">Spring-基础(二)</span>
            <span class="post-date" title="2022-07-25 10:26:06">2022/07/25</span>
        </a>
        
        <a  class="All spring "
           href="/2022/07/25/Spring-%E5%9F%BA%E7%A1%801/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="Spring-基础(一)">Spring-基础(一)</span>
            <span class="post-date" title="2022-07-25 09:58:25">2022/07/25</span>
        </a>
        
        <a  class="All rust "
           href="/2022/07/17/P2P/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="P2P">P2P</span>
            <span class="post-date" title="2022-07-17 10:46:24">2022/07/17</span>
        </a>
        
        <a  class="All rust p2p "
           href="/2022/07/16/Rust-libp2p/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-libp2p">Rust-libp2p</span>
            <span class="post-date" title="2022-07-16 14:04:11">2022/07/16</span>
        </a>
        
        <a  class="All "
           href="/2022/07/06/%E5%8C%BA%E5%9D%97%E9%93%BE-%E8%AE%B0%E8%B4%A6%E6%A8%A1%E5%BC%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="区块链-记账模式">区块链-记账模式</span>
            <span class="post-date" title="2022-07-06 21:48:04">2022/07/06</span>
        </a>
        
        <a  class="All rust "
           href="/2022/06/26/Summer-boot%E4%B8%80%E6%9C%9F%E5%AE%8F%E9%83%A8%E5%88%86%E6%9E%84%E6%80%9D%E5%8F%8A%E5%AE%9E%E7%8E%B0/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Summer-boot一期宏部分构思及实现">Summer-boot一期宏部分构思及实现</span>
            <span class="post-date" title="2022-06-26 10:12:27">2022/06/26</span>
        </a>
        
        <a  class="All git "
           href="/2022/06/16/Git-fork%E9%A1%B9%E7%9B%AE%E6%9B%B4%E6%96%B0/"
           data-tag="git"
           data-author="" >
            <span class="post-title" title="Git-fork项目更新">Git-fork项目更新</span>
            <span class="post-date" title="2022-06-16 15:11:56">2022/06/16</span>
        </a>
        
        <a  class="All rust "
           href="/2022/06/12/Rust-%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-编码规范">Rust-编码规范</span>
            <span class="post-date" title="2022-06-12 09:05:33">2022/06/12</span>
        </a>
        
        <a  class="All 数据库 "
           href="/2022/05/29/MySql-Some%E7%AD%89%E6%8C%87%E4%BB%A4/"
           data-tag="SQL"
           data-author="" >
            <span class="post-title" title="MySql_Some、Any、All的用法">MySql_Some、Any、All的用法</span>
            <span class="post-date" title="2022-05-29 10:07:14">2022/05/29</span>
        </a>
        
        <a  class="All Redis "
           href="/2022/05/12/Redis-%E8%81%9A%E5%90%88%E6%93%8D%E4%BD%9C/"
           data-tag="Redis"
           data-author="" >
            <span class="post-title" title="Redis-聚合操作">Redis-聚合操作</span>
            <span class="post-date" title="2022-05-12 14:34:47">2022/05/12</span>
        </a>
        
        <a  class="All Redis "
           href="/2022/05/11/Redis-%E5%88%87%E7%89%87%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE/"
           data-tag="Redis"
           data-author="" >
            <span class="post-title" title="Redis-切片集群配置">Redis-切片集群配置</span>
            <span class="post-date" title="2022-05-11 15:45:38">2022/05/11</span>
        </a>
        
        <a  class="All Redis "
           href="/2022/05/10/Redis-%E5%93%A8%E5%85%B5%E6%9C%BA%E5%88%B6%E9%85%8D%E7%BD%AE/"
           data-tag="Redis"
           data-author="" >
            <span class="post-title" title="Redis-哨兵机制配置">Redis-哨兵机制配置</span>
            <span class="post-date" title="2022-05-10 17:02:25">2022/05/10</span>
        </a>
        
        <a  class="All Redis "
           href="/2022/05/10/Redis-%E8%BF%9C%E7%A8%8B%E5%BC%80%E5%85%B3/"
           data-tag="Redis"
           data-author="" >
            <span class="post-title" title="Redis-开启远程访问">Redis-开启远程访问</span>
            <span class="post-date" title="2022-05-10 14:24:32">2022/05/10</span>
        </a>
        
        <a  class="All rust "
           href="/2022/05/06/Rust-%E5%B1%9E%E6%80%A7/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-属性">Rust-属性</span>
            <span class="post-date" title="2022-05-06 10:08:24">2022/05/06</span>
        </a>
        
        <a  class="All rust "
           href="/2022/04/20/Rust-build/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust编译过程图">Rust编译过程图</span>
            <span class="post-date" title="2022-04-20 14:54:46">2022/04/20</span>
        </a>
        
        <a  class="All rust "
           href="/2022/04/08/Rust-Atomic/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-Atomic">Rust-Atomic</span>
            <span class="post-date" title="2022-04-08 09:55:50">2022/04/08</span>
        </a>
        
        <a  class="All rust "
           href="/2022/04/06/Rust-%E6%AD%BB%E7%81%B5%E6%9C%AF3/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-死灵术3">Rust-死灵术3</span>
            <span class="post-date" title="2022-04-06 20:48:19">2022/04/06</span>
        </a>
        
        <a  class="All rust "
           href="/2022/04/06/Rust-%E6%AD%BB%E7%81%B5%E6%9C%AF2/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-死灵术2">Rust-死灵术2</span>
            <span class="post-date" title="2022-04-06 14:54:22">2022/04/06</span>
        </a>
        
        <a  class="All rust "
           href="/2022/04/02/Rust-AnyTrait/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-AnyTrait">Rust-AnyTrait</span>
            <span class="post-date" title="2022-04-02 14:25:05">2022/04/02</span>
        </a>
        
        <a  class="All rust "
           href="/2022/04/02/Rust-Cow%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-Cow智能指针">Rust-Cow智能指针</span>
            <span class="post-date" title="2022-04-02 10:16:00">2022/04/02</span>
        </a>
        
        <a  class="All rust "
           href="/2022/04/01/Rust-%E6%AD%BB%E7%81%B5%E6%9C%AF/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-死灵书（一）">Rust-死灵书（一）</span>
            <span class="post-date" title="2022-04-01 16:42:36">2022/04/01</span>
        </a>
        
        <a  class="All rust "
           href="/2022/03/09/Rust-%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-参考手册">Rust-参考手册</span>
            <span class="post-date" title="2022-03-09 10:15:21">2022/03/09</span>
        </a>
        
        <a  class="All rust "
           href="/2022/03/08/Rust-%E5%AE%8F/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-高级-小宏书(声明宏)">Rust-高级-小宏书(声明宏)</span>
            <span class="post-date" title="2022-03-08 20:22:51">2022/03/08</span>
        </a>
        
        <a  class="All Android "
           href="/2022/03/03/Android%E9%9B%86%E6%88%90Rust/"
           data-tag="Android,rust"
           data-author="" >
            <span class="post-title" title="Android集成Rust">Android集成Rust</span>
            <span class="post-date" title="2022-03-03 10:56:49">2022/03/03</span>
        </a>
        
        <a  class="All rust "
           href="/2022/02/08/Rust-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-类型转换-From &amp; Into">Rust-类型转换-From &amp; Into</span>
            <span class="post-date" title="2022-02-08 16:53:33">2022/02/08</span>
        </a>
        
        <a  class="All rust "
           href="/2022/01/16/Rust-%E9%AB%98%E7%BA%A7-Crate%E4%B9%8Bbitflags/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-高级-Crate之bitflags">Rust-高级-Crate之bitflags</span>
            <span class="post-date" title="2022-01-16 22:36:28">2022/01/16</span>
        </a>
        
        <a  class="All rust "
           href="/2022/01/12/Rust-%E9%AB%98%E7%BA%A7-Crate%E4%B9%8Brayon/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-高级-Crate之rayon">Rust-高级-Crate之rayon</span>
            <span class="post-date" title="2022-01-12 21:55:30">2022/01/12</span>
        </a>
        
        <a  class="All rust "
           href="/2022/01/12/Rust-%E9%AB%98%E7%BA%A7-Crate%E4%B9%8Blazy-static/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-高级-Crate之lazy_static">Rust-高级-Crate之lazy_static</span>
            <span class="post-date" title="2022-01-12 21:50:32">2022/01/12</span>
        </a>
        
        <a  class="All rust "
           href="/2022/01/12/Rust-%E9%AB%98%E7%BA%A7-Crate%E4%B9%8BWalkdir/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-高级-Crate之Walkdir">Rust-高级-Crate之Walkdir</span>
            <span class="post-date" title="2022-01-12 21:50:15">2022/01/12</span>
        </a>
        
        <a  class="All "
           href="/2022/01/12/Rust-%E9%AB%98%E7%BA%A7-Crate%E4%B9%8Bthreadpool/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Rust-高级-Crate之threadpool">Rust-高级-Crate之threadpool</span>
            <span class="post-date" title="2022-01-12 21:49:50">2022/01/12</span>
        </a>
        
        <a  class="All rust "
           href="/2022/01/12/Rust-%E9%AB%98%E7%BA%A7-Crate%E4%B9%8Berror-chain/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-高级-Crate之error_chain">Rust-高级-Crate之error_chain</span>
            <span class="post-date" title="2022-01-12 21:49:39">2022/01/12</span>
        </a>
        
        <a  class="All rust "
           href="/2022/01/12/Rust-%E9%AB%98%E7%BA%A7-Crate%E4%B9%8Bcrossbeam/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Rust-高级-Crate之crossbeam">Rust-高级-Crate之crossbeam</span>
            <span class="post-date" title="2022-01-12 21:16:24">2022/01/12</span>
        </a>
        
        <a  class="All rust "
           href="/2022/01/12/Rust-%E9%AB%98%E7%BA%A7-Crate%E4%B9%8Btar/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-高级-Crate之tar">Rust-高级-Crate之tar</span>
            <span class="post-date" title="2022-01-12 10:29:50">2022/01/12</span>
        </a>
        
        <a  class="All rust "
           href="/2022/01/11/Rust-%E9%AB%98%E7%BA%A7-Crate%E4%B9%8Brand/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-高级-Crate之rand">Rust-高级-Crate之rand</span>
            <span class="post-date" title="2022-01-11 14:52:45">2022/01/11</span>
        </a>
        
        <a  class="All rust "
           href="/2022/01/09/Rust-%E9%AB%98%E7%BA%A7-Crate%E4%B9%8Bserde/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-高级-Crate之serde">Rust-高级-Crate之serde</span>
            <span class="post-date" title="2022-01-09 21:10:52">2022/01/09</span>
        </a>
        
        <a  class="All rust "
           href="/2022/01/09/Rust%E4%B8%AD%E7%9A%84%E5%BC%95%E7%94%A8%E4%B8%8E%E5%80%9F%E7%94%A8/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust中的引用与借用">Rust中的引用与借用</span>
            <span class="post-date" title="2022-01-09 19:03:47">2022/01/09</span>
        </a>
        
        <a  class="All "
           href="/2022/01/09/graphQL/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="graphQL">graphQL</span>
            <span class="post-date" title="2022-01-09 17:02:35">2022/01/09</span>
        </a>
        
        <a  class="All "
           href="/2022/01/05/Rust-%E9%AB%98%E7%BA%A7-%E6%9C%8D%E5%8A%A1%E4%B9%8BActix/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Rust-高级-服务之Actix">Rust-高级-服务之Actix</span>
            <span class="post-date" title="2022-01-05 21:13:56">2022/01/05</span>
        </a>
        
        <a  class="All rust "
           href="/2022/01/05/Rust-%E9%AB%98%E7%BA%A7-%E5%BC%82%E6%AD%A5%E4%B9%8Bfutures/"
           data-tag="rust,异步"
           data-author="" >
            <span class="post-title" title="Rust-高级-异步之futures">Rust-高级-异步之futures</span>
            <span class="post-date" title="2022-01-05 21:13:38">2022/01/05</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/30/Rust-%E6%9C%80%E5%90%8E%E7%9A%84%E9%A1%B9%E7%9B%AE/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-最后的项目">Rust-最后的项目</span>
            <span class="post-date" title="2021-12-30 14:46:33">2021/12/30</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/21/Rust-%E9%AB%98%E7%BA%A7%E7%89%B9%E5%BE%81/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-高级特征">Rust-高级特征</span>
            <span class="post-date" title="2021-12-21 22:22:15">2021/12/21</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/20/Rust-%E6%A8%A1%E5%BC%8F%E7%94%A8%E6%9D%A5%E5%8C%B9%E9%85%8D%E5%80%BC%E7%9A%84%E7%BB%93%E6%9E%84/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-模式与模式匹配">Rust-模式与模式匹配</span>
            <span class="post-date" title="2021-12-20 20:53:44">2021/12/20</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/20/Rust-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-面向对象">Rust-面向对象</span>
            <span class="post-date" title="2021-12-20 15:15:04">2021/12/20</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/20/Rust-%E6%97%A0%E7%95%8F%E5%B9%B6%E5%8F%91/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-无畏并发">Rust-无畏并发</span>
            <span class="post-date" title="2021-12-20 09:44:35">2021/12/20</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/19/Rust-%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-智能指针">Rust-智能指针</span>
            <span class="post-date" title="2021-12-19 10:23:23">2021/12/19</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/16/Rust-CargoAndCratesIO/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-CargoAndCratesIO">Rust-CargoAndCratesIO</span>
            <span class="post-date" title="2021-12-16 22:52:05">2021/12/16</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/16/Rust-%E5%87%BD%E6%95%B0%E5%BC%8F%E8%AF%AD%E8%A8%80%E5%8A%9F%E8%83%BD-%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E9%97%AD%E5%8C%85/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-函数式语言功能:迭代器与闭包">Rust-函数式语言功能:迭代器与闭包</span>
            <span class="post-date" title="2021-12-16 16:08:22">2021/12/16</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/15/Rust-%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%A8%8B%E5%BA%8F/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-IO">Rust-IO</span>
            <span class="post-date" title="2021-12-15 17:07:26">2021/12/15</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/15/Rust-%E6%B5%8B%E8%AF%95/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-测试">Rust-测试</span>
            <span class="post-date" title="2021-12-15 14:08:29">2021/12/15</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/14/Rust-%E6%B3%9B%E5%9E%8B%E3%80%81trait%E5%92%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-泛型、trait和生命周期">Rust-泛型、trait和生命周期</span>
            <span class="post-date" title="2021-12-14 20:57:17">2021/12/14</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/14/Rust-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-错误处理">Rust-错误处理</span>
            <span class="post-date" title="2021-12-14 10:48:51">2021/12/14</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/13/Rust-%E5%B8%B8%E8%A7%81%E9%9B%86%E5%90%88/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-常见集合">Rust-常见集合</span>
            <span class="post-date" title="2021-12-13 20:55:23">2021/12/13</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/13/Rust-%E4%BD%BF%E7%94%A8%E6%A8%A1%E5%9D%97%E7%BB%84%E7%BB%87%E5%92%8C%E5%A4%8D%E7%94%A8%E4%BB%A3%E7%A0%81/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-使用模块组织和复用代码">Rust-使用模块组织和复用代码</span>
            <span class="post-date" title="2021-12-13 16:26:05">2021/12/13</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/13/Rust-%E6%9E%9A%E4%B8%BE%E5%92%8C%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-枚举和模式匹配">Rust-枚举和模式匹配</span>
            <span class="post-date" title="2021-12-13 10:44:04">2021/12/13</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/12/Rust-%E7%BB%93%E6%9E%84%E4%BD%93/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-结构体">Rust-结构体</span>
            <span class="post-date" title="2021-12-12 22:42:42">2021/12/12</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/12/Rust-%E6%89%80%E6%9C%89%E6%9D%83/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-所有权">Rust-所有权</span>
            <span class="post-date" title="2021-12-12 11:32:16">2021/12/12</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/11/Rust-%E5%9F%BA%E7%A1%80%E6%8A%80%E6%9C%AF/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-基础技术">Rust-基础技术</span>
            <span class="post-date" title="2021-12-11 20:25:09">2021/12/11</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/11/Rust-%E7%BC%96%E7%A8%8B%E7%8C%9C%E8%B0%9C%E6%B8%B8%E6%88%8F/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-编程猜谜游戏">Rust-编程猜谜游戏</span>
            <span class="post-date" title="2021-12-11 18:58:04">2021/12/11</span>
        </a>
        
        <a  class="All rust "
           href="/2021/12/10/Rust-%E5%85%A5%E9%97%A8/"
           data-tag="rust"
           data-author="" >
            <span class="post-title" title="Rust-入门">Rust-入门</span>
            <span class="post-date" title="2021-12-10 11:18:25">2021/12/10</span>
        </a>
        
        <a  class="All java "
           href="/2021/12/10/Java-%E5%86%85%E9%83%A8%E7%B1%BB/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="Java-内部类">Java-内部类</span>
            <span class="post-date" title="2021-12-10 08:50:32">2021/12/10</span>
        </a>
        
        <a  class="All java "
           href="/2021/12/09/Java-%E6%8E%A5%E5%8F%A3/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="Java-接口">Java-接口</span>
            <span class="post-date" title="2021-12-09 14:54:05">2021/12/09</span>
        </a>
        
        <a  class="All java "
           href="/2021/12/09/Java-%E5%A4%9A%E6%80%81/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="Java-多态">Java-多态</span>
            <span class="post-date" title="2021-12-09 08:42:47">2021/12/09</span>
        </a>
        
        <a  class="All java "
           href="/2021/11/23/JavaNIO/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="JavaNIO">JavaNIO</span>
            <span class="post-date" title="2021-11-23 10:47:14">2021/11/23</span>
        </a>
        
        <a  class="All java "
           href="/2021/11/23/JavaIO/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="JavaIO">JavaIO</span>
            <span class="post-date" title="2021-11-23 10:47:07">2021/11/23</span>
        </a>
        
        <a  class="All spring java "
           href="/2021/11/22/Spring%E5%B7%A5%E4%BD%9C%E5%AF%B9%E8%B1%A1/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="Spring中的VO、BO、DTO、PO、DO">Spring中的VO、BO、DTO、PO、DO</span>
            <span class="post-date" title="2021-11-22 09:44:06">2021/11/22</span>
        </a>
        
        <a  class="All java "
           href="/2021/11/18/Java%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="Java函数式接口">Java函数式接口</span>
            <span class="post-date" title="2021-11-18 10:50:22">2021/11/18</span>
        </a>
        
        <a  class="All "
           href="/2021/11/17/SpringBoot%E5%90%AF%E5%8A%A8-%E5%9F%BA%E7%A1%80/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SpringBoot启动-基础">SpringBoot启动-基础</span>
            <span class="post-date" title="2021-11-17 17:01:58">2021/11/17</span>
        </a>
        
        <a  class="All java "
           href="/2021/11/16/JRebel/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="JRebel">JRebel</span>
            <span class="post-date" title="2021-11-16 08:58:18">2021/11/16</span>
        </a>
        
        <a  class="All spring "
           href="/2021/11/11/Spring%E5%90%AF%E5%8A%A8-%E5%9F%BA%E7%A1%80/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="Spring启动-基础">Spring启动-基础</span>
            <span class="post-date" title="2021-11-11 15:25:33">2021/11/11</span>
        </a>
        
        <a  class="All java "
           href="/2021/11/10/%E5%8F%8D%E5%B0%84/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="反射">反射</span>
            <span class="post-date" title="2021-11-10 20:57:08">2021/11/10</span>
        </a>
        
        <a  class="All java "
           href="/2021/11/10/%E6%B3%A8%E8%A7%A3/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="注解">注解</span>
            <span class="post-date" title="2021-11-10 20:50:55">2021/11/10</span>
        </a>
        
        <a  class="All spring "
           href="/2021/11/09/SpringAOP-%E5%9F%BA%E7%A1%80/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="SpringAOP-基础">SpringAOP-基础</span>
            <span class="post-date" title="2021-11-09 10:31:31">2021/11/09</span>
        </a>
        
        <a  class="All spring "
           href="/2021/11/08/SpringIOC-%E5%9F%BA%E7%A1%80/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="SpringIOC-基础">SpringIOC-基础</span>
            <span class="post-date" title="2021-11-08 10:27:28">2021/11/08</span>
        </a>
        
        <a  class="All 音视频 "
           href="/2021/11/02/%E9%9F%B3%E8%A7%86%E9%A2%91%E7%BC%96%E8%A7%A3%E7%A0%81%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/"
           data-tag="音视频"
           data-author="" >
            <span class="post-title" title="音视频编解码技术基础">音视频编解码技术基础</span>
            <span class="post-date" title="2021-11-02 12:06:49">2021/11/02</span>
        </a>
        
        <a  class="All 数据库 "
           href="/2021/11/02/MysqlErrHosts/"
           data-tag="SQL"
           data-author="" >
            <span class="post-title" title="mysql安装时，Unable to connect to any of the specified MySQL hosts">mysql安装时，Unable to connect to any of the specified MySQL hosts</span>
            <span class="post-date" title="2021-11-02 10:58:50">2021/11/02</span>
        </a>
        
        <a  class="All 音视频 "
           href="/2021/10/08/H264%E7%BC%96%E7%A0%81-SPSPPS/"
           data-tag="视频格式"
           data-author="" >
            <span class="post-title" title="H264编码 SPS &amp; PPS">H264编码 SPS &amp; PPS</span>
            <span class="post-date" title="2021-10-08 21:20:12">2021/10/08</span>
        </a>
        
        <a  class="All ssr "
           href="/2021/01/18/centos%E7%BB%88%E7%AB%AFssr%E9%85%8D%E7%BD%AE/"
           data-tag="ssr"
           data-author="" >
            <span class="post-title" title="centos终端ssr配置">centos终端ssr配置</span>
            <span class="post-date" title="2021-01-18 08:21:35">2021/01/18</span>
        </a>
        
        <a  class="All 数据结构 算法分析 "
           href="/2020/12/14/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0%E5%85%B6%E4%BA%8C/"
           data-tag="数据结构与算法分析"
           data-author="" >
            <span class="post-title" title="数据结构与算法分析阅读笔记其二">数据结构与算法分析阅读笔记其二</span>
            <span class="post-date" title="2020-12-14 22:34:39">2020/12/14</span>
        </a>
        
        <a  class="All 数据结构 算法分析 "
           href="/2020/12/09/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/"
           data-tag="数据结构与算法分析"
           data-author="" >
            <span class="post-title" title="数据结构与算法分析阅读笔记">数据结构与算法分析阅读笔记</span>
            <span class="post-date" title="2020-12-09 21:52:40">2020/12/09</span>
        </a>
        
        <a  class="All 音视频 "
           href="/2020/10/27/FLV%E6%A0%BC%E5%BC%8F/"
           data-tag="视频格式"
           data-author="" >
            <span class="post-title" title="FLV格式">FLV格式</span>
            <span class="post-date" title="2020-10-27 15:33:56">2020/10/27</span>
        </a>
        
        <a  class="All 机器学习 "
           href="/2020/09/20/Mac%E4%B8%ADPython3-x%E7%BC%96%E8%AF%91Caffe/"
           data-tag="机器学习"
           data-author="" >
            <span class="post-title" title="Mac中Python3.x编译Caffe">Mac中Python3.x编译Caffe</span>
            <span class="post-date" title="2020-09-20 01:08:09">2020/09/20</span>
        </a>
        
        <a  class="All JavaScript npm "
           href="/2020/07/17/npm%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C/"
           data-tag="直播"
           data-author="" >
            <span class="post-title" title="npm常用命令操作">npm常用命令操作</span>
            <span class="post-date" title="2020-07-17 10:14:01">2020/07/17</span>
        </a>
        
        <a  class="All 音视频 "
           href="/2020/07/16/MediaExtractorANDMediaMuxer/"
           data-tag="android,音频"
           data-author="" >
            <span class="post-title" title="android端的音频处理工具MediaExtractor和MediaMuxer">android端的音频处理工具MediaExtractor和MediaMuxer</span>
            <span class="post-date" title="2020-07-16 11:55:28">2020/07/16</span>
        </a>
        
        <a  class="All 音视频 "
           href="/2020/07/15/AAC%E9%9F%B3%E9%A2%91%E7%A0%81%E6%B5%81/"
           data-tag="android,音频"
           data-author="" >
            <span class="post-title" title="AAC音频码流">AAC音频码流</span>
            <span class="post-date" title="2020-07-15 17:45:10">2020/07/15</span>
        </a>
        
        <a  class="All 音视频 "
           href="/2020/07/15/Android-PCM%E5%A4%84%E7%90%86/"
           data-tag="android,音频"
           data-author="" >
            <span class="post-title" title="Android-PCM">Android-PCM</span>
            <span class="post-date" title="2020-07-15 13:29:49">2020/07/15</span>
        </a>
        
        <a  class="All 音视频 "
           href="/2020/07/13/yuv-tool%E5%B7%A5%E5%85%B7%E7%B1%BB/"
           data-tag="android,libyuv"
           data-author="" >
            <span class="post-title" title="yuv-tool工具类">yuv-tool工具类</span>
            <span class="post-date" title="2020-07-13 22:58:21">2020/07/13</span>
        </a>
        
        <a  class="All 编译的库 "
           href="/2020/06/18/ffmpegforandroid%E7%BC%96%E8%AF%91/"
           data-tag="ffmpeg"
           data-author="" >
            <span class="post-title" title="ffmpegforandroid编译">ffmpegforandroid编译</span>
            <span class="post-date" title="2020-06-18 13:38:35">2020/06/18</span>
        </a>
        
        <a  class="All 编译的库 "
           href="/2020/06/11/libfaac%E7%BC%96%E8%AF%91/"
           data-tag="libfaac"
           data-author="" >
            <span class="post-title" title="libfaac编译">libfaac编译</span>
            <span class="post-date" title="2020-06-11 14:00:57">2020/06/11</span>
        </a>
        
        <a  class="All 编译的库 "
           href="/2020/06/11/libx264%E7%BC%96%E8%AF%91/"
           data-tag="libx264"
           data-author="" >
            <span class="post-title" title="libx264编译">libx264编译</span>
            <span class="post-date" title="2020-06-11 13:51:36">2020/06/11</span>
        </a>
        
        <a  class="All 音视频 "
           href="/2020/06/10/RTMP%E8%A7%84%E8%8C%83%E5%AD%A6%E4%B9%A0/"
           data-tag="RTMP,直播"
           data-author="" >
            <span class="post-title" title="RTMP规范学习">RTMP规范学习</span>
            <span class="post-date" title="2020-06-10 11:35:52">2020/06/10</span>
        </a>
        
        <a  class="All ReactNative "
           href="/2020/06/01/React-Native%E7%83%AD%E6%9B%B4%E6%96%B0/"
           data-tag="ReactNative"
           data-author="" >
            <span class="post-title" title="React-Native热更新">React-Native热更新</span>
            <span class="post-date" title="2020-06-01 16:03:28">2020/06/01</span>
        </a>
        
        <a  class="All 后台 "
           href="/2020/06/01/JavaWeb/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="JavaWeb">JavaWeb</span>
            <span class="post-date" title="2020-06-01 11:09:17">2020/06/01</span>
        </a>
        
        <a  class="All 数据库 "
           href="/2020/05/26/JDBC/"
           data-tag="数据库,java"
           data-author="" >
            <span class="post-title" title="JDBC">JDBC</span>
            <span class="post-date" title="2020-05-26 16:23:01">2020/05/26</span>
        </a>
        
        <a  class="All 后台 "
           href="/2020/03/29/%E4%BA%86%E8%A7%A3%E8%B7%A8%E5%9F%9F/"
           data-tag="后台,跨域"
           data-author="" >
            <span class="post-title" title="了解跨域">了解跨域</span>
            <span class="post-date" title="2020-03-29 21:31:15">2020/03/29</span>
        </a>
        
        <a  class="All JavaScript "
           href="/2020/03/08/JavaScript%E8%AF%AD%E6%B3%95%EF%BC%88%E4%B8%80%EF%BC%89/"
           data-tag="javaScript"
           data-author="" >
            <span class="post-title" title="JavaScript语法（一）">JavaScript语法（一）</span>
            <span class="post-date" title="2020-03-08 10:29:30">2020/03/08</span>
        </a>
        
        <a  class="All ReactNative "
           href="/2020/03/06/React-native-%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BE/"
           data-tag="ReactNative"
           data-author="" >
            <span class="post-title" title="React-native 高德地图">React-native 高德地图</span>
            <span class="post-date" title="2020-03-06 10:07:45">2020/03/06</span>
        </a>
        
        <a  class="All ReactNative "
           href="/2020/03/03/React-16-8-Hooks/"
           data-tag="React"
           data-author="" >
            <span class="post-title" title="React 16.8 Hooks">React 16.8 Hooks</span>
            <span class="post-date" title="2020-03-03 10:07:02">2020/03/03</span>
        </a>
        
        <a  class="All ReactNative "
           href="/2020/01/06/React-Native%E5%8E%9F%E7%94%9F%E9%80%9A%E4%BF%A1/"
           data-tag="ReactNative"
           data-author="" >
            <span class="post-title" title="React-Native原生通信">React-Native原生通信</span>
            <span class="post-date" title="2020-01-06 16:34:00">2020/01/06</span>
        </a>
        
        <a  class="All ReactNative "
           href="/2019/12/27/React-Native%E5%8E%9F%E7%90%86%E6%B5%85%E6%9E%90/"
           data-tag="ReactNative"
           data-author="" >
            <span class="post-title" title="React-Native原理浅析">React-Native原理浅析</span>
            <span class="post-date" title="2019-12-27 15:32:08">2019/12/27</span>
        </a>
        
        <a  class="All 正则表达式 "
           href="/2019/12/18/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"
           data-tag="正则表达式"
           data-author="" >
            <span class="post-title" title="正则表达式">正则表达式</span>
            <span class="post-date" title="2019-12-18 21:45:36">2019/12/18</span>
        </a>
        
        <a  class="All ReactNative "
           href="/2019/12/05/React-Native-%E5%8A%A8%E7%94%BB/"
           data-tag="ReactNative"
           data-author="" >
            <span class="post-title" title="React-Native-动画">React-Native-动画</span>
            <span class="post-date" title="2019-12-05 16:20:25">2019/12/05</span>
        </a>
        
        <a  class="All ReactNative "
           href="/2019/12/03/React-%E8%87%AA%E5%AD%A6%E4%B9%8B%E8%B7%AF%EF%BC%88%E4%BA%8C%EF%BC%89/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="React-自学之路（二）">React-自学之路（二）</span>
            <span class="post-date" title="2019-12-03 13:06:53">2019/12/03</span>
        </a>
        
        <a  class="All ReactNative "
           href="/2019/12/03/React-%E8%87%AA%E5%AD%A6%E4%B9%8B%E8%B7%AF%EF%BC%88%E4%B8%80%EF%BC%89/"
           data-tag="React"
           data-author="" >
            <span class="post-title" title="React-自学之路（一）">React-自学之路（一）</span>
            <span class="post-date" title="2019-12-03 09:40:28">2019/12/03</span>
        </a>
        
        <a  class="All ReactNative "
           href="/2019/10/12/React%E6%96%B0%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/"
           data-tag="react"
           data-author="" >
            <span class="post-title" title="React新的生命周期">React新的生命周期</span>
            <span class="post-date" title="2019-10-12 15:41:02">2019/10/12</span>
        </a>
        
        <a  class="All 后台 "
           href="/2019/09/18/%E5%88%9B%E5%BB%BAmaven%E9%A1%B9%E7%9B%AE%E6%97%B6%EF%BC%8C%E5%87%BA%E7%8E%B0Could-not-calculate-build-plan%E9%94%99%E8%AF%AF/"
           data-tag="springboot"
           data-author="" >
            <span class="post-title" title="创建maven项目时，出现Could not calculate build plan错误">创建maven项目时，出现Could not calculate build plan错误</span>
            <span class="post-date" title="2019-09-18 09:25:06">2019/09/18</span>
        </a>
        
        <a  class="All 数据库 "
           href="/2019/09/07/MySQL%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/"
           data-tag="SQL"
           data-author="" >
            <span class="post-title" title="MySQL常用指令">MySQL常用指令</span>
            <span class="post-date" title="2019-09-07 21:10:03">2019/09/07</span>
        </a>
        
        <a  class="All Android "
           href="/2019/07/05/RecycleView%EF%BC%88%E4%B8%80%EF%BC%89/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="RecycleView（一）">RecycleView（一）</span>
            <span class="post-date" title="2019-07-05 14:03:06">2019/07/05</span>
        </a>
        
        <a  class="All Android "
           href="/2019/06/25/Android%E5%8A%A8%E7%94%BB%EF%BC%88%E4%B8%89%EF%BC%89/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="Android动画（三）">Android动画（三）</span>
            <span class="post-date" title="2019-06-25 14:15:26">2019/06/25</span>
        </a>
        
        <a  class="All Android "
           href="/2019/06/20/Android%E5%8A%A8%E7%94%BB%EF%BC%88%E4%BA%8C%EF%BC%89/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="Android动画（二）">Android动画（二）</span>
            <span class="post-date" title="2019-06-20 15:10:00">2019/06/20</span>
        </a>
        
        <a  class="All Android "
           href="/2019/06/19/Android%E5%8A%A8%E7%94%BB%EF%BC%88%E4%B8%80%EF%BC%89/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="Android动画（一）">Android动画（一）</span>
            <span class="post-date" title="2019-06-19 15:15:56">2019/06/19</span>
        </a>
        
        <a  class="All Android "
           href="/2019/06/18/Android%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%A7%E4%BB%B6%EF%BC%88%E4%BA%8C%EF%BC%89/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="Android自定义控件（二）">Android自定义控件（二）</span>
            <span class="post-date" title="2019-06-18 13:43:11">2019/06/18</span>
        </a>
        
        <a  class="All Android "
           href="/2019/06/13/%E8%B4%9D%E5%A1%9E%E5%B0%94%E6%9B%B2%E7%BA%BF/"
           data-tag="Android,贝塞尔曲线"
           data-author="" >
            <span class="post-title" title="贝塞尔曲线">贝塞尔曲线</span>
            <span class="post-date" title="2019-06-13 10:14:25">2019/06/13</span>
        </a>
        
        <a  class="All Android "
           href="/2019/06/04/Java-Binder%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1%E7%90%86%E8%A7%A3/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="Java Binder进程通信理解">Java Binder进程通信理解</span>
            <span class="post-date" title="2019-06-04 14:01:43">2019/06/04</span>
        </a>
        
        <a  class="All Android "
           href="/2019/05/30/arm-neon-h%E6%96%87%E4%BB%B6%E5%8A%9F%E8%83%BD/"
           data-tag="汇编"
           data-author="" >
            <span class="post-title" title="arm-neon.h文件功能">arm-neon.h文件功能</span>
            <span class="post-date" title="2019-05-30 08:45:08">2019/05/30</span>
        </a>
        
        <a  class="All Android "
           href="/2019/05/06/Handler%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/"
           data-tag="android"
           data-author="" >
            <span class="post-title" title="Handler消息机制">Handler消息机制</span>
            <span class="post-date" title="2019-05-06 14:09:45">2019/05/06</span>
        </a>
        
        <a  class="All 音视频 "
           href="/2019/05/06/H264%E7%BC%96%E7%A0%81-%E7%86%B5%E7%BC%96%E7%A0%81/"
           data-tag="视频格式"
           data-author="" >
            <span class="post-title" title="H264编码-熵编码">H264编码-熵编码</span>
            <span class="post-date" title="2019-05-06 13:42:57">2019/05/06</span>
        </a>
        
        <a  class="All Android "
           href="/2019/04/08/NDK%E5%BC%80%E5%8F%91%E9%97%AE%E9%A2%98%E5%90%88%E9%9B%86/"
           data-tag="NDK"
           data-author="" >
            <span class="post-title" title="NDK开发问题合集">NDK开发问题合集</span>
            <span class="post-date" title="2019-04-08 10:53:30">2019/04/08</span>
        </a>
        
        <a  class="All 音视频 "
           href="/2019/04/01/H264%E7%BC%96%E7%A0%81%E5%9F%BA%E7%A1%80/"
           data-tag="视频格式"
           data-author="" >
            <span class="post-title" title="H264编码基础">H264编码基础</span>
            <span class="post-date" title="2019-04-01 09:26:11">2019/04/01</span>
        </a>
        
        <a  class="All 音视频 "
           href="/2019/03/31/srs%E7%9B%B4%E6%92%AD%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/"
           data-tag="直播,srs"
           data-author="" >
            <span class="post-title" title="srs直播平台搭建">srs直播平台搭建</span>
            <span class="post-date" title="2019-03-31 10:37:42">2019/03/31</span>
        </a>
        
        <a  class="All 音视频 "
           href="/2019/03/27/%E5%9B%BE%E7%89%87RGB%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F/"
           data-tag="图片格式"
           data-author="" >
            <span class="post-title" title="图片RGB数据格式">图片RGB数据格式</span>
            <span class="post-date" title="2019-03-27 22:24:49">2019/03/27</span>
        </a>
        
        <a  class="All 音视频 "
           href="/2019/03/14/%E5%9B%BE%E7%89%87YUV%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F/"
           data-tag="图片格式"
           data-author="" >
            <span class="post-title" title="图片YUV数据格式">图片YUV数据格式</span>
            <span class="post-date" title="2019-03-14 11:10:16">2019/03/14</span>
        </a>
        
        <a  class="All 编译的库 "
           href="/2019/03/08/libjpeg-turbo%E7%BC%96%E8%AF%91/"
           data-tag="libjpeg-turbo"
           data-author="" >
            <span class="post-title" title="libjpeg-turbo编译">libjpeg-turbo编译</span>
            <span class="post-date" title="2019-03-08 13:41:20">2019/03/08</span>
        </a>
        
        <a  class="All 编译的库 "
           href="/2019/03/07/libYUV%E7%BC%96%E8%AF%91/"
           data-tag="libyuv"
           data-author="" >
            <span class="post-title" title="libYUV编译">libYUV编译</span>
            <span class="post-date" title="2019-03-07 15:05:11">2019/03/07</span>
        </a>
        
        <a  class="All Android "
           href="/2019/02/18/Android-camera%EF%BC%88%E4%B8%80%EF%BC%89/"
           data-tag="camera"
           data-author="" >
            <span class="post-title" title="Android camera（一）">Android camera（一）</span>
            <span class="post-date" title="2019-02-18 15:03:27">2019/02/18</span>
        </a>
        
        <a  class="All C/C++ "
           href="/2019/01/23/Cpp%E5%9F%BA%E7%A1%80%EF%BC%88%E4%B8%80%EF%BC%89/"
           data-tag="Cpp"
           data-author="" >
            <span class="post-title" title="Cpp基础（一）">Cpp基础（一）</span>
            <span class="post-date" title="2019-01-23 10:52:13">2019/01/23</span>
        </a>
        
        <a  class="All C/C++ "
           href="/2019/01/18/C%E5%9F%BA%E7%A1%80%EF%BC%88%E4%B8%80%EF%BC%89/"
           data-tag="C"
           data-author="" >
            <span class="post-title" title="C基础（一）">C基础（一）</span>
            <span class="post-date" title="2019-01-18 14:08:23">2019/01/18</span>
        </a>
        
        <a  class="All Android "
           href="/2018/12/18/EasyPermission/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="EasyPermission">EasyPermission</span>
            <span class="post-date" title="2018-12-18 13:20:30">2018/12/18</span>
        </a>
        
        <a  class="All Android "
           href="/2018/12/15/Android%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%A7%E4%BB%B6%EF%BC%88%E4%B8%80%EF%BC%89/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="Android自定义控件（一）">Android自定义控件（一）</span>
            <span class="post-date" title="2018-12-15 21:44:34">2018/12/15</span>
        </a>
        
        <a  class="All ssr "
           href="/2018/12/10/Linux%E9%85%8D%E7%BD%AEShadowSocks-R/"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Linux配置ShadowSocks-R">Linux配置ShadowSocks-R</span>
            <span class="post-date" title="2018-12-10 15:58:52">2018/12/10</span>
        </a>
        
        <a  class="All Android 热更新 "
           href="/2018/10/29/Sophix%E7%83%AD%E6%9B%B4%E6%96%B0/"
           data-tag="android,热更新"
           data-author="" >
            <span class="post-title" title="Sophix热更新">Sophix热更新</span>
            <span class="post-date" title="2018-10-29 16:50:36">2018/10/29</span>
        </a>
        
        <a  class="All Android 热更新 "
           href="/2018/10/18/TinkerPatch%E7%83%AD%E6%9B%B4%E6%96%B0/"
           data-tag="android,热更新"
           data-author="" >
            <span class="post-title" title="TinkerPatch热更新">TinkerPatch热更新</span>
            <span class="post-date" title="2018-10-18 20:11:30">2018/10/18</span>
        </a>
        
        <a  class="All ReactNative "
           href="/2018/06/21/React-native-flex%E5%B8%83%E5%B1%80/"
           data-tag="react"
           data-author="" >
            <span class="post-title" title="React-native flex布局">React-native flex布局</span>
            <span class="post-date" title="2018-06-21 16:22:47">2018/06/21</span>
        </a>
        
        <a  class="All Android "
           href="/2018/01/25/Android%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="Android事件分发">Android事件分发</span>
            <span class="post-date" title="2018-01-25 16:36:52">2018/01/25</span>
        </a>
        
        <a  class="All Gradle "
           href="/2018/01/25/Gradle%EF%BC%88%E4%B8%80%EF%BC%89/"
           data-tag="构建工具,Gradle"
           data-author="" >
            <span class="post-title" title="Gradle（一）">Gradle（一）</span>
            <span class="post-date" title="2018-01-25 16:36:52">2018/01/25</span>
        </a>
        
        <a  class="All git "
           href="/2017/11/24/firstBlod2/"
           data-tag="git"
           data-author="" >
            <span class="post-title" title="Git详细讲解(远程)">Git详细讲解(远程)</span>
            <span class="post-date" title="2017-11-24 10:18:05">2017/11/24</span>
        </a>
        
        <a  class="All git "
           href="/2017/10/19/firstBlod/"
           data-tag="git"
           data-author="" >
            <span class="post-title" title="Git详细讲解(本地)">Git详细讲解(本地)</span>
            <span class="post-date" title="2017-10-19 21:49:28">2017/10/19</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-Reference" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">强引用 弱引用 软引用 虚引用</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="java">java</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color5">java</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2023-08-16 07:43:36'>2023-08-15 15:11</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            Views 👀 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                Comment:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%BA%E5%BC%95%E7%94%A8%EF%BC%88Strong-Reference%EF%BC%89"><span class="toc-text">强引用（Strong Reference）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AF%E5%BC%95%E7%94%A8%EF%BC%88SoftReference%EF%BC%89"><span class="toc-text">软引用（SoftReference）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%B1%E5%BC%95%E7%94%A8%EF%BC%88WeakReference%EF%BC%89"><span class="toc-text">弱引用（WeakReference）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E5%BC%95%E7%94%A8%EF%BC%88PhantomReference%EF%BC%89"><span class="toc-text">虚引用（PhantomReference）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference-%E3%80%81ReferenceQueue"><span class="toc-text">Reference 、ReferenceQueue</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ReferenceQueue"><span class="toc-text">ReferenceQueue</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7"><span class="toc-text">属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-text">方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference"><span class="toc-text">Reference</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-text">构造函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-1"><span class="toc-text">属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95-1"><span class="toc-text">方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E7%A7%8D%E7%8A%B6%E6%80%81"><span class="toc-text">四种状态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E8%A6%81%E5%8A%9F%E8%83%BD"><span class="toc-text">重要功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ReferenceHandler%E7%BA%BF%E7%A8%8B"><span class="toc-text">ReferenceHandler线程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tryHandlePending"><span class="toc-text">tryHandlePending()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FinalReference-Finalizer"><span class="toc-text">FinalReference&#x2F;Finalizer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-2"><span class="toc-text">属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%9D%97"><span class="toc-text">静态块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95-2"><span class="toc-text">方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FinalizerThread"><span class="toc-text">FinalizerThread</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cleaner"><span class="toc-text">Cleaner</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">总结</span></a></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="强引用（Strong-Reference）"><a href="#强引用（Strong-Reference）" class="headerlink" title="强引用（Strong Reference）"></a>强引用（Strong Reference）</h2><p>我们使用的大部分的引用都是强引用，这是使用最普遍的引用。当内存空间不足，Java虚拟机宁愿抛出OutOfMemoryError错误，使程序异常终止，也不会靠随意回收具有强引用的对象来解决内存不足问题。<strong>只要还有强引用指向一个对象，垃圾收集器就不会回收这个对象。</strong></p>
<h2 id="软引用（SoftReference）"><a href="#软引用（SoftReference）" class="headerlink" title="软引用（SoftReference）"></a>软引用（SoftReference）</h2><p>软引用是用来描述一些有用但并不是必需的对象，在Java中用java.lang.ref.SoftReference类来表示。只有在内存不足的时候JVM才会回收该对象。这一点可以很好地用来解决OOM的问题，并且这个特性很适合用来实现缓存：比如网页缓存、图片缓存等。</p>
<p>软引用可以和一个引用队列（ReferenceQueue）联合使用，如果软引用所引用的对象被JVM回收，这个软引用就会被加入到与之关联的引用队列中。<br><figure class="highlight pgsql"><table><tr><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">Object</span> o = <span class="hljs-built_in">new</span> <span class="hljs-keyword">Object</span>();<br>SoftReference&lt;<span class="hljs-keyword">Object</span>&gt; so = <span class="hljs-built_in">new</span> SoftReference&lt;&gt;(o);<br>o = <span class="hljs-keyword">null</span>;<br><span class="hljs-keyword">System</span>.gc();<br><span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(so.<span class="hljs-keyword">get</span>());<br></code></pre></td></tr></table></figure><br>当我们设置了本地jvm内存后，通过下面代码就可以看到在内存不足时，软引用就会删除内存数据：<br><figure class="highlight arduino"><table><tr><td class="code"><pre><code class="hljs arduino">ReferenceQueue&lt;<span class="hljs-keyword">byte</span>[]&gt; q = <span class="hljs-keyword">new</span> ReferenceQueue&lt;&gt;();<br>SoftReference&lt;<span class="hljs-keyword">byte</span>[]&gt; so2 = <span class="hljs-keyword">new</span> SoftReference&lt;&gt;(<span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">13</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>], q);<br>System.out.<span class="hljs-built_in">println</span>(so2.<span class="hljs-built_in">get</span>());<br>System.<span class="hljs-built_in">gc</span>();<br><span class="hljs-keyword">try</span> &#123;<br>    Thread.<span class="hljs-built_in">sleep</span>(<span class="hljs-number">500</span>);<br>&#125; <span class="hljs-built_in"><span class="hljs-keyword">catch</span></span> (InterruptedException e) &#123;<br>    e.<span class="hljs-built_in">printStackTrace</span>();<br>&#125;<br><span class="hljs-keyword">final</span> <span class="hljs-keyword">byte</span>[] bytes = so2.<span class="hljs-built_in">get</span>();<br>System.out.<span class="hljs-built_in">println</span>(so2.<span class="hljs-built_in">get</span>());<br><br><span class="hljs-keyword">byte</span>[] b = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">13</span>*<span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>];<br>System.out.<span class="hljs-built_in">println</span>(so2.<span class="hljs-built_in">get</span>());<br></code></pre></td></tr></table></figure></p>
<h2 id="弱引用（WeakReference）"><a href="#弱引用（WeakReference）" class="headerlink" title="弱引用（WeakReference）"></a>弱引用（WeakReference）</h2><p>弱引用也是用来描述非必需对象的，当JVM进行垃圾回收时，无论内存是否充足，都会回收被弱引用关联的对象。在java中，用java.lang.ref.WeakReference类来表示。</p>
<p>弱引用与软引用的区别在于：只具有弱引用的对象拥有更短暂的生命周期。在垃圾回收器线程扫描它所管辖的内存区域的过程中，一旦发现了只具有弱引用的对象，不管当前内存空间足够与否，都会回收它的内存。不过，由于垃圾回收器是一个优先级很低的线程， 因此不一定会很快发现那些只具有弱引用的对象。所以被软引用关联的对象只有在内存不足时才会被回收，而被弱引用关联的对象在JVM进行垃圾回收时总会被回收。<br><figure class="highlight arduino"><table><tr><td class="code"><pre><code class="hljs arduino">WeakReference&lt;<span class="hljs-keyword">String</span>&gt; sr = <span class="hljs-keyword">new</span> WeakReference&lt;<span class="hljs-keyword">String</span>&gt;(<span class="hljs-keyword">new</span> <span class="hljs-built_in"><span class="hljs-keyword">String</span></span>(<span class="hljs-string">&quot;hello&quot;</span>));<br>      System.out.<span class="hljs-built_in">println</span>(sr.<span class="hljs-built_in">get</span>());<br>      System.<span class="hljs-built_in">gc</span>();                <span class="hljs-comment">//通知JVM的gc进行垃圾回收</span><br>      System.out.<span class="hljs-built_in">println</span>(sr.<span class="hljs-built_in">get</span>());<br></code></pre></td></tr></table></figure></p>
<p>一个很好的例子是ThreadLocal中的子类ThreadLocalMap下的Entry对象，他是一个弱引用，而value则是传入的数据。<br>当传入的value是强引用，而entry回收后key为null，value未被回收，这导致内存一直被占用，造成内存泄漏。<br><figure class="highlight scala"><table><tr><td class="code"><pre><code class="hljs scala">static <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThreadLocalMap</span> </span>&#123;<br><br>    static <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Entry</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">WeakReference&lt;ThreadLocal&lt;?&gt;&gt;</span> </span>&#123;<br>        <br>        <span class="hljs-type">Object</span> value;<br><br>        <span class="hljs-type">Entry</span>(<span class="hljs-type">ThreadLocal</span>&lt;?&gt; k, <span class="hljs-type">Object</span> v) &#123;<br>            <span class="hljs-keyword">super</span>(k);<br>            value = v;<br>        &#125;<br>    &#125;<br>    ...<br>&#125;<br><span class="hljs-keyword">private</span> <span class="hljs-type">Entry</span>[] table;<br></code></pre></td></tr></table></figure></p>
<h2 id="虚引用（PhantomReference）"><a href="#虚引用（PhantomReference）" class="headerlink" title="虚引用（PhantomReference）"></a>虚引用（PhantomReference）</h2><p>虚引用和前面的软引用、弱引用不同，它并不影响对象的生命周期。在java中用java.lang.ref.PhantomReference类表示。如果一个对象与虚引用关联，则跟没有引用与之关联一样，在任何时候都可能被垃圾回收器回收。虚引用主要用来跟踪对象被垃圾回收的活动。</p>
<p>虚引用必须和引用队列关联使用，当垃圾回收器准备回收一个对象时，如果发现它还有虚引用，就会把这个虚引用加入到与之 关联的引用队列中。程序可以通过判断引用队列中是否已经加入了虚引用，来了解被引用的对象是否将要被垃圾回收。如果程序发现某个虚引用已经被加入到引用队列，那么就可以在所引用的对象的内存被回收之前采取必要的行动。<br>弱引用可以使用ReferenceQueue,虚引用必须配合ReferenceQueue使用。jdk中直接内存的回收就用到虚引用，由于jvm自动内存管理的范围是堆内存，而直接内存是在堆内存之外,所以直接内存的分配和回收都是有Unsafe类去操作，java在申请一块直接内存之后，会在堆内存分配一个对象保存这个堆外内存的引用，这个对象被垃圾收集器管理，一旦这个对象被回收，相应的用户线程会收到通知并对直接内存进行清理工作。</p>
<p>DirectByteBuffer就是通过虚引用来实现堆外内存的释放的。</p>
<h2 id="Reference-、ReferenceQueue"><a href="#Reference-、ReferenceQueue" class="headerlink" title="Reference 、ReferenceQueue"></a>Reference 、ReferenceQueue</h2><h2 id="ReferenceQueue"><a href="#ReferenceQueue" class="headerlink" title="ReferenceQueue"></a>ReferenceQueue</h2><p>引用队列，在检测到适当的可到达性更改后，垃圾回收器将已注册的引用对象添加到该队列中。</p>
<p>实现了一个队列的入队(enqueue)和出队(poll还有remove)操作，内部元素就是泛型的Reference，并且Queue的实现，是由Reference自身的链表结构( 单向循环链表 )所实现的。</p>
<p>ReferenceQueue名义上是一个队列，但实际内部并非有实际的存储结构，它的存储是依赖于内部节点之间的关系来表达。可以理解为queue是一个类似于链表的结构，这里的节点其实就是reference本身。可以理解为queue为一个链表的容器，其自己仅存储当前的head节点，而后面的节点由每个reference节点自己通过next来保持即可。</p>
<h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><p><code>volatile Reference&lt;? extends T&gt; head = null;</code><br>始终保存当前队列中最新要被处理的节点，可以认为queue为一个后进先出的队列。当新的节点进入时，采取以下的逻辑：<br><figure class="highlight typescript"><table><tr><td class="code"><pre><code class="hljs typescript"><span class="hljs-built_in">boolean</span> <span class="hljs-function"><span class="hljs-title">enqueue</span>(<span class="hljs-params">Reference&lt;? <span class="hljs-keyword">extends</span> T&gt; r</span>)</span> &#123;<br>    ...<br>    r.next = (head == <span class="hljs-literal">null</span>) ? r : head;<br>    head = r;<br>    ...<br></code></pre></td></tr></table></figure><br>在获取时：<br><figure class="highlight php"><table><tr><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">private</span> Reference<span class="hljs-meta">&lt;?</span> <span class="hljs-keyword">extends</span> T&gt; reallyPoll() &#123;       <span class="hljs-comment">/* Must hold lock */</span><br>    Reference<span class="hljs-meta">&lt;?</span> <span class="hljs-keyword">extends</span> T&gt; r = head;<br>    <span class="hljs-keyword">if</span> (r != <span class="hljs-literal">null</span>) &#123;<br>        Reference<span class="hljs-meta">&lt;?</span> <span class="hljs-keyword">extends</span> T&gt; rn = r.next;<br>        head = (rn == r) ? <span class="hljs-literal">null</span> : rn;<br>        r.queue = <span class="hljs-literal">NULL</span>;<br>        r.next = r;<br>        ...<br></code></pre></td></tr></table></figure></p>
<p><code>long queueLength = 0;</code>队列长度</p>
<p><code>Lock lock = new Lock()</code>专用于作为锁对象使用以保证Reference（引用）类对象不会出现线程安全问题</p>
<p><code>static ReferenceQueue&lt;Object&gt; NULL = new Null&lt;&gt;()</code>“空”引用队列<br>如果一个Reference（引用）类对象没有注册ReferenceQueue（引用队列）类对象或已经从中出队，则会将其queue（引用队列）字段设置为NULL（“空”引用队列），因此可以通过判断Reference（引用）类对象的queue（引用队列）字段是否为NULL（“空”引用队列）来判断其是否注册及出队。</p>
<p><code>static ReferenceQueue&lt;Object&gt; ENQUEUED = new Null&lt;&gt;()</code>“入队”引用队列<br>被作为标记值使用。如果一个Reference（引用）类对象已经入队，则其queue（引用队列）字段设置为ENQUEUED（“入队”引用队列），因此可以通过判断Reference（引用）类对象的queue（引用队列）字段是否为ENQUEUED（“入队”引用队列）来判断其是否入队。<code>Null</code>对象保证无法使用入栈功能。</p>
<h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h4><p><code>enqueue()</code>入队（false：失败，true：成功）<br><figure class="highlight arduino"><table><tr><td class="code"><pre><code class="hljs arduino"><span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">enqueue</span><span class="hljs-params">(Reference&lt;? extends T&gt; r)</span> </span>&#123; <span class="hljs-comment">/* Called only by Reference class */</span><br>    <span class="hljs-comment">// 同步</span><br>    <span class="hljs-built_in">synchronized</span> (lock) &#123;<br>        <span class="hljs-comment">// 获取引用对象所注册的引用队列（快照），并判断引用队列（快照）是否合法。</span><br>        ReferenceQueue&lt;?&gt; queue = r.queue;<br>        <span class="hljs-keyword">if</span> ((queue == <span class="hljs-literal">NULL</span>) || (queue == ENQUEUED)) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-comment">// 断言引用队列（快照）与当前引用队列对象相等。</span><br>        assert queue == <span class="hljs-keyword">this</span>;<br>        <span class="hljs-comment">// 设置引用对象所注册的引用队列为&quot;入队&quot;引用队列，表示当前对象已经被加入引用队列。之所以要替换掉引用对象注册的引用队列有两</span><br>        <span class="hljs-comment">// 个方面的原因：一是引用对象只允许入队/出队一次，在入队操作完成后替换为&quot;入队&quot;引用队列可以避免二次入队；二是可以通过判断当前</span><br>        <span class="hljs-comment">// 引用对象是否处于引用队列中。</span><br>        r.queue = ENQUEUED;<br>        <span class="hljs-comment">// 将该节点加入到header，并将之前的header设置为next</span><br>        r.next = (head == null) ? r : head;<br>        head = r;<br>        queueLength++;<br>        <span class="hljs-comment">// 如果是最终引用类型，递增终引用的计数。</span><br>        <span class="hljs-keyword">if</span> (r instanceof FinalReference) &#123;<br>            sun.misc.VM.<span class="hljs-built_in">addFinalRefCount</span>(<span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-comment">// 唤醒所有处于等待状态中的线程</span><br>        lock.<span class="hljs-built_in">notifyAll</span>();<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><br>调用此方法可将Reference（引用）类对象加入队列中。该方法受synchronized关键字保护，因为ReferenceQueue（引用队列）类对象可能会在多线程的环境下使用，因此需要相应的同步手段确保来确保ReferenceQueue（引用队列）类对象中的数据不会出现错误。需要提及的是，enqueue()采用的是头插法，也就是说新入队的Reference（引用）类对象会成为新的头Reference（引用）类对象</p>
<p><code>poll()</code>出队<br><figure class="highlight php"><table><tr><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">public</span> Reference<span class="hljs-meta">&lt;?</span> <span class="hljs-keyword">extends</span> T&gt; poll() &#123;<br>    <span class="hljs-comment">// 判断是否为空，此处不仅仅只做一次，在同步环境的reallyPoll中也做了一次检查，双重检查判断是否为空。</span><br>    <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">null</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    synchronized (lock) &#123;<br>        <span class="hljs-keyword">return</span> reallyPoll();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">private</span> Reference<span class="hljs-meta">&lt;?</span> <span class="hljs-keyword">extends</span> T&gt; reallyPoll() &#123;       <span class="hljs-comment">/* Must hold lock */</span><br>    <span class="hljs-comment">// 获取头引用（快照）。</span><br>    Reference<span class="hljs-meta">&lt;?</span> <span class="hljs-keyword">extends</span> T&gt; r = head;<br>    <span class="hljs-keyword">if</span> (r != <span class="hljs-literal">null</span>) &#123;<br>        @SuppressWarnings(<span class="hljs-string">&quot;unchecked&quot;</span>)<br>        <br>        <span class="hljs-comment">// 获取头引用对象（快照）的下个引用对象（快照）。</span><br>        Reference<span class="hljs-meta">&lt;?</span> <span class="hljs-keyword">extends</span> T&gt; rn = r.next;<br>        <span class="hljs-comment">// 如果是最后一个与下一个相同，则表示最后一个，否则设置为下一个。</span><br>        head = (rn == r) ? <span class="hljs-literal">null</span> : rn;<br>        <span class="hljs-comment">// 设置头引用对象（快照）的注册引用队列为&quot;空&quot;引用队列，因为该引用对象已经完成了入队/出队操作，引用队列对其已经不在有意义</span><br>        r.queue = <span class="hljs-literal">NULL</span>;<br>        r.next = r;<br>        queueLength--;<br>        <span class="hljs-comment">// 如果是最终引用类型，递减终引用的计数。</span><br>        <span class="hljs-keyword">if</span> (r <span class="hljs-keyword">instanceof</span> FinalReference) &#123;<br>            sun.misc.VM.addFinalRefCount(-<span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-comment">// 返回出队的头引用对象（快照）。</span><br>        <span class="hljs-keyword">return</span> r;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>&#125;<br></code></pre></td></tr></table></figure><br>调用此方法可将ReferenceQueue（引用队列）类对象的头Reference（引用）类对象弹出，当存在头Reference（引用）类对象时返回头Reference（引用）类对象，否则返回null。poll()采用的是头出法，即后继ReferenceQueue（引用队列）类对象会成为新的头ReferenceQueue（引用队列）类对象。通过观察enqueue/poll()方法的运行机制可知，ReferenceQueue（引用队列）类并不是真正的队列，因为队列必须需要保证FIFO（先入先出），而ReferenceQueue（引用队列）类是FILO（先入后出）的运行方式，因此其本质实际是一个栈。</p>
<p><code>remove(long timeout)/remove()</code>限时移除/无限时移除<br><figure class="highlight aspectj"><table><tr><td class="code"><pre><code class="hljs aspectj"><span class="hljs-keyword">public</span> Reference&lt;? <span class="hljs-keyword">extends</span> T&gt; remove(<span class="hljs-keyword">long</span> timeout)<br>    <span class="hljs-keyword">throws</span> IllegalArgumentException, InterruptedException<br>&#123;<br>    <span class="hljs-comment">// 判断限时是否合法</span><br>    <span class="hljs-keyword">if</span> (timeout &lt; <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">&quot;Negative timeout value&quot;</span>);<br>    &#125;<br>    <span class="hljs-comment">// 在同步保护下执行</span><br>    <span class="hljs-keyword">synchronized</span> (lock) &#123;<br>        <span class="hljs-comment">// 获取被出队的引用对象（前头引用对象），如果不为空，则直接返回，表示移除了该引用对象。</span><br>        Reference&lt;? <span class="hljs-keyword">extends</span> T&gt; r = reallyPoll();<br>        <span class="hljs-keyword">if</span> (r != <span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span> r;<br>        <span class="hljs-comment">// 如果引用队列为空，则在限时中等待新的引用对象入队后将之移除。</span><br>        <span class="hljs-keyword">long</span> start = (timeout == <span class="hljs-number">0</span>) ? <span class="hljs-number">0</span> : System.nanoTime();<br>        <span class="hljs-keyword">for</span> (;;) &#123;<br>            <span class="hljs-comment">// 令当前线程陷入阻塞（本质是加入Monitor对象的WaitSet中），直至被执行enqueue()的线程唤醒。</span><br>            lock.wait(timeout);<br>            <span class="hljs-comment">// 出队操作，此时可能返回null，因为入队唤醒的是所有阻塞线程，入队的引用对象可能已经被其它线程出队。</span><br>            r = reallyPoll();<br>            <span class="hljs-comment">// 如果成功弹出，则返回，表示成功移除。</span><br>            <span class="hljs-keyword">if</span> (r != <span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span> r;<br>            <span class="hljs-comment">// 如果限时不为0，判断限时时间是否到达（限时为0时表示无限尝试直至成功为止）。</span><br>            <span class="hljs-keyword">if</span> (timeout != <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-keyword">long</span> end = System.nanoTime();<br>                timeout -= (end - start) / <span class="hljs-number">1000</span>_000;<br>                <span class="hljs-keyword">if</span> (timeout &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>                start = end;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Removes the next reference object in this queue, blocking until one</span><br><span class="hljs-comment"> * becomes available.</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> A reference object, blocking until one becomes available</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span>  InterruptedException  If the wait is interrupted</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> Reference&lt;? <span class="hljs-keyword">extends</span> T&gt; remove() <span class="hljs-keyword">throws</span> InterruptedException &#123;<br>    <span class="hljs-function"><span class="hljs-keyword">return</span> <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-number">0</span>)</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><br>remove()方法的作用与poll()方法相同，都是将ReferenceQueue（引用队列）类对象的头Reference（引用）类对象弹出并返回，实际上remove()方法底层就是调用poll()方法实现的。两者的区别在于，如果头Reference（引用）类对象不存在，poll()方法会直接返回null，而remove()方法则是会进入阻塞状态，直至有Reference（引用）类对象入队后被唤醒并将之弹出。remove()方法有两个重载，但实际上可以看作一个，因为其中一个是通过调用另一个实现的。</p>
<p><img src="/img/Reference/0.png" alt="github"></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>java.lang.ref.Reference 为 软（soft）引用、弱（weak）引用、虚（phantom）引用的父类。</p>
<p>因为Reference对象和垃圾回收密切配合实现，该类可能不能被直接子类化。<br>可以理解为Reference的直接子类都是由jvm定制化处理的,因此在代码中直接继承于Reference类型没有任何作用。但可以继承jvm定制的Reference的子类。<br>例如：Cleaner 继承了 PhantomReference<br><code>public class Cleaner extends PhantomReference&lt;Object&gt;</code></p>
<h4 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h4><p>其内部提供2个构造函数，一个带queue，一个不带queue。其中queue的意义在于，增加注册的queue。<br><figure class="highlight angelscript"><table><tr><td class="code"><pre><code class="hljs angelscript">Reference(T <span class="hljs-built_in">ref</span>erent) &#123;<br>    <span class="hljs-keyword">this</span>(<span class="hljs-built_in">ref</span>erent, <span class="hljs-literal">null</span>);<br>&#125;<br><br>Reference(T <span class="hljs-built_in">ref</span>erent, ReferenceQueue&lt;? <span class="hljs-keyword">super</span> T&gt; queue) &#123;<br>    <span class="hljs-keyword">this</span>.<span class="hljs-built_in">ref</span>erent = <span class="hljs-built_in">ref</span>erent;<br>    <span class="hljs-keyword">this</span>.queue = (queue == <span class="hljs-literal">null</span>) ? ReferenceQueue.NULL : queue;<br>&#125;<br></code></pre></td></tr></table></figure></p>
<h4 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h4><p><code>T referent;</code>应用存储的对象。</p>
<p><code>volatile Reference next;</code>作为queue的节点，此处指向下一个引用对象。</p>
<p><code>transient private Reference&lt;T&gt; discovered;</code>被VM使用。</p>
<ul>
<li>当处于active状态时：discoverd reference的下一个元素是由GC操纵的( 如果是最后一个了则为this )；</li>
<li>当处于pending状态：discovered为pending集合中的下一个元素( 如果是最后一个了则为null )；</li>
<li>其他状态：discovered为null</li>
</ul>
<p><code>private static Lock lock = new Lock();</code>锁，与ReferenceQueue中类似。</p>
<p><code>static Reference&lt;Object&gt; pending = null;</code>等待被入队的引用列表。收集器会添加引用到这个列表，直到Reference-handler线程移除了它们。这个列表被上面的lock对象保护。这个列表使用discovered字段来连接它自己的元素( 即pending的下一个元素就是discovered对象 )。<br>jvm在gc时会将要处理的对象放到这个静态字段上面。同时，另一个字段discovered：表示要处理的对象的下一个对象。即可以理解要处理的对象也是一个链表，通过discovered进行排队，这边只需要不停地拿到pending，然后再通过discovered不断地拿到下一个对象赋值给pending即可，直到取到了最有一个。因为这个pending对象，两个线程都可能访问,因此需要加锁处理。</p>
<p><code>volatile ReferenceQueue&lt;? super T&gt; queue;</code>是对象即将被回收时所要通知的队列。<br>这里的queue( 即，ReferenceQueue对象 )名义上是一个队列，但实际内部并非有实际的存储结构，它的存储是依赖于内部节点之间的关系来表达。<br>Reference有4种状态，不同状态的reference其queue也不同：</p>
<ul>
<li>Active：新创建的引用对象都是这个状态，在 GC 检测到引用对象已经到达合适的reachability时，GC 会根据引用对象是否在创建时制定ReferenceQueue参数进行状态转移，如果指定了，那么转移到Pending，如果没指定，转移到Inactive。</li>
<li>Pending：pending-Reference列表中的引用都是这个状态，它们等着被内部线程ReferenceHandler处理入队（会调用ReferenceQueue.enqueue方法）。没有注册的实例不会进入这个状态。</li>
<li>Enqueued：相应的对象已经为待回收，并且相应的引用对象已经放到queue当中了。准备由外部线程来询问queue获取相应的数据。调用ReferenceQueue.enqueued方法后的Reference处于这个状态中。当Reference实例从它的ReferenceQueue移除后，它将成为Inactive。没有注册的实例不会进入这个状态。</li>
<li>Inactive：即此对象已经由外部从queue中获取到，并且已经处理掉了。即意味着此引用对象可以被回收，并且对内部封装的对象也可以被回收掉了( 实际的回收运行取决于clear动作是否被调用 )。可以理解为进入到此状态的肯定是应该被回收掉的。一旦一个Reference实例变为了Inactive，它的状态将不会再改变。</li>
</ul>
<p>jvm并不需要定义状态值来判断相应引用的状态处于哪个状态，只需要通过计算next和queue即可进行判断。</p>
<ul>
<li>Active：queue为创建一个Reference对象时传入的ReferenceQueue对象；如果ReferenceQueue对象为空或者没有传入ReferenceQueue对象，则为ReferenceQueue.NULL；next==null；</li>
<li>Pending：queue为初始化时传入ReferenceQueue对象；next==this(由jvm设置)；</li>
<li>Enqueue：当queue!=null &amp;&amp; queue != ENQUEUED 时；设置queue为ENQUEUED；next为下一个要处理的reference对象，或者若为最后一个了next==this；</li>
<li>Inactive：queue = ReferenceQueue.NULL; next = this.</li>
</ul>
<p>那么针对不同的子类，会得到不同的实现：</p>
<ul>
<li>WeakReference对象进入到queue之后,相应的referent为null。</li>
<li>SoftReference对象，如果对象在内存足够时，不会进入到queue，自然相应的referent不会为null。如果需要被处理( 内存不够或其它策略 )，则置相应的referent为null，然后进入到queue。通过debug发现，SoftReference是pending状态时，referent就已经是null了，说明此事referent已经被GC回收了。</li>
<li>FinalReference对象，因为需要调用其finalize对象，因此其reference即使入queue，其referent也不会为null，即不会clear掉。</li>
<li>PhantomReference对象，因为本身get实现为返回null。因此clear的作用不是很大。因为不管enqueue还是没有，都不会清除掉。</li>
</ul>
<h4 id="方法-1"><a href="#方法-1" class="headerlink" title="方法"></a>方法</h4><p><code>T get()</code>获取<br><figure class="highlight kotlin"><table><tr><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">public</span> T <span class="hljs-keyword">get</span>() &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.referent;<br>&#125;<br></code></pre></td></tr></table></figure><br>获取当前引用的所指对象，当所指对象不存在时返回null。所指对象初始是必然存在的，但可以在后期被清除。</p>
<p><code>clear()</code>清除<br><figure class="highlight typescript"><table><tr><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-function"><span class="hljs-title">clear</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-built_in">this</span>.referent = <span class="hljs-literal">null</span>;<br>&#125;<br></code></pre></td></tr></table></figure><br>清除当前引用的所指对象（即断开两者的引用关系），并不会将当前引用加入到注册引用队列中。该方法专为开发者提供，GC线程不会调用该方法断开当前引用与其所指对象的关联。</p>
<p><code>boolean isEnqueued()</code>是否入队<br><figure class="highlight arduino"><table><tr><td class="code"><pre><code class="hljs arduino"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isEnqueued</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.queue == ReferenceQueue.ENQUEUED);<br>&#125;<br></code></pre></td></tr></table></figure><br>判断当前引用是否已加入注册引用队列，是则返回true；否则返回false。引用加入注册引用队列时会将自身注册的引用队列替换为“入队”引用队列，这是一个在引用队列类内部创建的全局静态引用队列，被作为引用加入注册引用队列的标志位来使用。因此判断当前引用是否加入注册引用队列无需遍历注册引用队列，直接判断注册引用队列是否是“入队”引用队列即可。</p>
<p><code>boolean enqueue()</code>入队<br><figure class="highlight arduino"><table><tr><td class="code"><pre><code class="hljs arduino"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">enqueue</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.queue.<span class="hljs-built_in">enqueue</span>(<span class="hljs-keyword">this</span>);<br>&#125;<br></code></pre></td></tr></table></figure><br>将当前引用加入注册引用队列中，成功返回true；否则返回false。该方法底层调用引用队列类的enqueue(Reference&lt;? extends T&gt; r) 方法实现。该方法专为开发者提供，“引用处理器”线程不会调用该方法将当前引用加入注册引用队列。</p>
<h2 id="四种状态"><a href="#四种状态" class="headerlink" title="四种状态"></a>四种状态</h2><p><code>active ——&gt; pending</code> ：<code>Reference#tryHandlePending</code><br><code>pending ——&gt; enqueue</code> ：<code>ReferenceQueue#enqueue</code><br><code>enqueue ——&gt; inactive</code> ：<code>Reference#clear</code><br><img src="/img/Reference/1.png" alt="github"></p>
<h2 id="重要功能"><a href="#重要功能" class="headerlink" title="重要功能"></a>重要功能</h2><h2 id="ReferenceHandler线程"><a href="#ReferenceHandler线程" class="headerlink" title="ReferenceHandler线程"></a>ReferenceHandler线程</h2><figure class="highlight reasonml"><table><tr><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">private</span> static <span class="hljs-keyword">class</span> ReferenceHandler extends Thread &#123;<br><br>    <span class="hljs-keyword">private</span> static void ensure<span class="hljs-constructor">ClassInitialized(Class&lt;?&gt; <span class="hljs-params">clazz</span>)</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Class</span>.</span></span><span class="hljs-keyword">for</span><span class="hljs-constructor">Name(<span class="hljs-params">clazz</span>.<span class="hljs-params">getName</span>()</span>, <span class="hljs-literal">true</span>, clazz.get<span class="hljs-constructor">ClassLoader()</span>);<br>        &#125; catch (ClassNotFoundException e) &#123;<br>            throw (Error) <span class="hljs-keyword">new</span> <span class="hljs-constructor">NoClassDefFoundError(<span class="hljs-params">e</span>.<span class="hljs-params">getMessage</span>()</span>).init<span class="hljs-constructor">Cause(<span class="hljs-params">e</span>)</span>;<br>        &#125;<br>    &#125;<br><br>    static &#123;<br>        <span class="hljs-comment">// pre-load and initialize InterruptedException and Cleaner classes</span><br>        <span class="hljs-comment">// so that we don&#x27;t get into trouble later in the run loop if there&#x27;s</span><br>        <span class="hljs-comment">// memory shortage while loading/initializing them lazily.</span><br>        ensure<span class="hljs-constructor">ClassInitialized(InterruptedException.<span class="hljs-params">class</span>)</span>;<br>        ensure<span class="hljs-constructor">ClassInitialized(Cleaner.<span class="hljs-params">class</span>)</span>;<br>    &#125;<br><br>    <span class="hljs-constructor">ReferenceHandler(ThreadGroup <span class="hljs-params">g</span>, String <span class="hljs-params">name</span>)</span> &#123;<br>        super(g, name);<br>    &#125;<br><br>    public void run<span class="hljs-literal">()</span> &#123;<br>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>            <span class="hljs-keyword">try</span><span class="hljs-constructor">HandlePending(<span class="hljs-params">true</span>)</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>此处会预加载并初始化 InterruptedException 和 Cleaner 类，来避免出现在循环运行过程中时由于内存不足而无法加载它们。然后run方法中使用了while死循环运行tryHandlerPending方法。这个方法通过名字就能大概判断，应该是来处理pending链表的。</p>
<h2 id="tryHandlePending"><a href="#tryHandlePending" class="headerlink" title="tryHandlePending()"></a>tryHandlePending()</h2><figure class="highlight php"><table><tr><td class="code"><pre><code class="hljs php"><span class="hljs-built_in">static</span> <span class="hljs-keyword">boolean</span> tryHandlePending(<span class="hljs-keyword">boolean</span> waitForNotify) &#123;<br>    Reference&lt;<span class="hljs-keyword">Object</span>&gt; r;<br>    Cleaner c;<br>    <span class="hljs-keyword">try</span> &#123;<br>        synchronized (lock) &#123;<br>            <span class="hljs-comment">// 如果pending链表不为null，则开始进行处理</span><br>            <span class="hljs-keyword">if</span> (pending != <span class="hljs-literal">null</span>) &#123;<br>                r = pending;<br>                <span class="hljs-comment">// 使用 &#x27;instanceof&#x27; 有时会导致OOM</span><br>                <span class="hljs-comment">// 所以在将r从链表中摘除时先进行这个操作</span><br>                c = r <span class="hljs-keyword">instanceof</span> Cleaner ? (Cleaner) r : <span class="hljs-literal">null</span>;<br>                <span class="hljs-comment">// 移除头结点，将pending指向其后一个节点</span><br>                pending = r.discovered;<br>                <span class="hljs-comment">// 此时r为原来pending链表的头结点，已经从链表中脱离出来</span><br>                r.discovered = <span class="hljs-literal">null</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-comment">// 在锁上等待可能会造成OOM，因为它会试图分配exception对象</span><br>                <span class="hljs-keyword">if</span> (waitForNotify) &#123;<br>                    lock.wait();<br>                &#125;<br>                <span class="hljs-comment">// 重试</span><br>                <span class="hljs-keyword">return</span> waitForNotify;<br>            &#125;<br>        &#125;<br>    &#125; <span class="hljs-keyword">catch</span> (OutOfMemoryError x) &#123;<br>        Thread.<span class="hljs-keyword">yield</span>();<br>        <span class="hljs-comment">// 重试</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125; <span class="hljs-keyword">catch</span> (InterruptedException x) &#123;<br>        <span class="hljs-comment">// 重试</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// F如果摘除的元素是Cleaner类型，则执行其clean方法</span><br>    <span class="hljs-keyword">if</span> (c != <span class="hljs-literal">null</span>) &#123;<br>        c.clean();<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br><br>    ReferenceQueue<span class="hljs-meta">&lt;?</span> super <span class="hljs-keyword">Object</span>&gt; q = r.queue;<br>    <span class="hljs-comment">// 最后，如果其引用队列不为空，则将该元素入队</span><br>    <span class="hljs-keyword">if</span> (q != ReferenceQueue.<span class="hljs-literal">NULL</span>) q.enqueue(r);<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>这里整个过程就是摘取pending链表的头结点，如果是Cleaner，则执行clean操作，否则进行入队处理。</p>
<h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h2><figure class="highlight reasonml"><table><tr><td class="code"><pre><code class="hljs reasonml">static &#123;<br>    ThreadGroup tg = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Thread</span>.</span></span>current<span class="hljs-constructor">Thread()</span>.get<span class="hljs-constructor">ThreadGroup()</span>;<br>    <span class="hljs-keyword">for</span> (ThreadGroup tgn = tg;<br>         tgn != null;<br>         tg = tgn, tgn = tg.get<span class="hljs-constructor">Parent()</span>);<br>    Thread handler = <span class="hljs-keyword">new</span> <span class="hljs-constructor">ReferenceHandler(<span class="hljs-params">tg</span>, <span class="hljs-string">&quot;Reference Handler&quot;</span>)</span>;<br>    <span class="hljs-comment">/* If there were a special system-only priority greater than</span><br><span class="hljs-comment">     * MAX_PRIORITY, it would be used here</span><br><span class="hljs-comment">     */</span><br>    handler.set<span class="hljs-constructor">Priority(Thread.MAX_PRIORITY)</span>;<br>    handler.set<span class="hljs-constructor">Daemon(<span class="hljs-params">true</span>)</span>;<br>    handler.start<span class="hljs-literal">()</span>;<br><br>    <span class="hljs-comment">// provide access in SharedSecrets</span><br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">SharedSecrets</span>.</span></span>set<span class="hljs-constructor">JavaLangRefAccess(<span class="hljs-params">new</span> JavaLangRefAccess()</span> &#123;<br>        @Override<br>        public boolean <span class="hljs-keyword">try</span><span class="hljs-constructor">HandlePendingReference()</span> &#123;<br>            return <span class="hljs-keyword">try</span><span class="hljs-constructor">HandlePending(<span class="hljs-params">false</span>)</span>;<br>        &#125;<br>    &#125;);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>Reference Handler线程会注册到根线程组并设置最高优先级，守护线程并运行线程。最后覆盖了JVM中对pending的默认处理方式。</p>
<p><img src="/img/Reference/2.png" alt="github"></p>
<ul>
<li>待定列表：待定列表时全局静态变量的方式存在引用类中。其并非实际的列表对象而是逻辑列表。引用类只保存待定列表的头节点，并通过节点之间的引用里访问整个列表。引用加入引用队列之前会暂时与待定列表。</li>
<li>引用队列：用于追踪所指对象的GC状态，当所指对象被GC回收时，其对应引用会被安排加入其注册的引用队列中，由此引用是否处于引用队列可作为其所指对象是否被GC回收的判断依据，并可以此为契机执行某些自定义操作。与待定列表不同，引用队列并不唯一，并且是实际的队列对象。</li>
</ul>
<h2 id="FinalReference-Finalizer"><a href="#FinalReference-Finalizer" class="headerlink" title="FinalReference/Finalizer"></a>FinalReference/Finalizer</h2><p>FinalReference（终引用）类是Reference（引用）抽象类的四大子类之一，被作用于实现Java的Finalization（终结）机制。相比其他三个子类而言终引用类相对鲜为人知，因为本身的封闭性令其无法被开发者直接使用，毕竟其在设计上就是为了后台运行而服务的。<br><strong>终引用类必须搭配引用队列使用，该特性与PhantomReference（虚引用）类一致。</strong></p>
<p>终引用类最大的特点在于其所指对象的回收时机与其它子类不同。<br>对于引用抽象类的其它子类，当其所指对象被GC判定为可回收后便会被顺势回收，与此同时引用机制还会将其加入注册引用队列中。换而言之，就是加入到引用队列中的引用的所指对象都可以被视作已GC回收。终引用类与此不同，虽说其在所指对象的可回收判定中并不会造成影响，但即使终引用已经被加入了引用队列，其所指对象也不会被GC回收，而是会等到所指对象的finalize()方法被执行完毕后断开与终引用的关联关系才会被回收。</p>
<p><strong>终引用类的存在是为了实现终结机制而提供对对象生命周期的干预机制，即影响对象的回收时机，而实际真正实现该机制的是其子类Finalizer（终结者），Java终结机制正是通过终结者类与底层逻辑相互配合实现的。</strong></p>
<p>Finalizer（终结者）类是FinalReference（终引用）类的子类，其访问权限为DEFAULT，即只有同一个包下的类才能够进行调用，且其被final关键字修饰，因此可知其无法再被其它子类继承。<br><figure class="highlight scala"><table><tr><td class="code"><pre><code class="hljs scala"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Finalizer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">FinalReference&lt;Object&gt;</span> </span>&#123;<br></code></pre></td></tr></table></figure></p>
<p>Finalizer（终结者）类对象会在何时加入未终结链表中呢？F类对象创建时，JVM将之作为所指对象调用Finalizer（终结者）类的register()方法创建一个Finalizer（终结者）类对象并加入到未终结链表中。实际上关于Finalizer（终结者）类对象的加入时间还能有更加精确的描述及调整。众所周知Java对象的创建并不是一个原子操作，其大致可以分为两个部分：实例化（分配内存）与初始化（执行构造方法）。通过对JVM参数-XX:+RegisterFinalizersAtInit的设置（默认为+），可以令Finalizer（终结者）类对象在F类实例化后、初始化前的时间段创建加入（-XX:-RegisterFinalizersAtInit），也可以令其在F类初始化后创建加入（-XX:+RegisterFinalizersAtInit）。<br><figure class="highlight php"><table><tr><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">void</span> Heap::AddFinalizerReference(Thread* <span class="hljs-built_in">self</span>, ObjPtr&lt;mirror::Object&gt;* <span class="hljs-keyword">object</span>) &#123;<br>    ScopedObjectAccess soa(<span class="hljs-built_in">self</span>);<br>    ScopedLocalRef&lt;jobject&gt; arg(<span class="hljs-built_in">self</span>-&gt;GetJniEnv(), soa.AddLocalReference&lt;jobject&gt;(*<span class="hljs-keyword">object</span>));<br>    jvalue args[<span class="hljs-number">1</span>];<br>    args[<span class="hljs-number">0</span>].l = arg.get();<br>    <span class="hljs-comment">// 调用 Java 层静态方法 FinalizerReference#add</span><br>    InvokeWithJValues(soa, nullptr, WellKnownClasses::java_lang_ref_FinalizerReference_add, args);<br>    *<span class="hljs-keyword">object</span> = soa.Decode&lt;mirror::Object&gt;(arg.get());<br>&#125;<br></code></pre></td></tr></table></figure><br>JVM是如何做到在指定的时间里调用Finalizer（终结者）类的register()方法的呢？这个就要根据不同的情况判断。针对在实例化后、初始化前调用的F类对象，由于内存分配是统一由内存管理系统负责的，因此可以由其负责处理；而对于在初始化后的F类对象则相对负责，难道要在所有的构造方法尾部都进行处理吗？当然是不可能。实际上JVM使用了一个很灵活的方式，在Java中，子类的构造方法会调用父类的构造方法，因此最终都会执行Object（对象）类的构造方法。JVM将Object（对象）类的构造方法里的return指令替换为_return_register_finalizer指令，从而在侵入性很小的情况下完成了方法调用。</p>
<h2 id="属性-2"><a href="#属性-2" class="headerlink" title="属性"></a>属性</h2><p><code>static ReferenceQueue&lt;Object&gt; queue = new ReferenceQueue&lt;&gt;();</code>引用队列<br>该字段是一个静态字段，其默认了一个ReferenceQueue（引用队列）类的实例，被作为Finalizer（终结者）类对象注册引用队列使用，因此可知所有的Finalizer（终结者）类对象注册的都是同一个引用队列。即，f-queue。</p>
<p><code>static Finalizer unfinalized = null;</code>未终结的对象<br>该字段是一个静态字段，被用于保存未终结链表的头Finalizer（终结者）类对象，在整个JVM中只存在一个未终结链表。未终结链表的作用是为了保证Finalizer（终结者）类对象不会被GC回收，如果没有未终结链表会导致Finalizer（终结者）类对象加入引用队列之前不可达（即不存在GC Roots关联的链路），这会使其被GC回收。</p>
<p><code>static final Object lock = new Object()</code>锁<br>用于在操作未终结链表时作为synchronized关键字的锁对象使用。该字段是一个静态字段，因此可知是一个类锁。</p>
<p><code>private Finalizer next = null, prev = null;</code>前驱终结者/后驱终结者<br>用于持有当前Finalizer（终结者）类对象在未终结链表中后继/前驱Finalizer（终结者）类对象的引用，因此可知未终结链表是一个双向链表。当Finalizer（终结者）类对象从未终结链表中移除时，会将两者都指向自身，因此可以由此判断一个Finalizer（终结者）类对象是否移除。</p>
<h2 id="静态块"><a href="#静态块" class="headerlink" title="静态块"></a>静态块</h2><figure class="highlight reasonml"><table><tr><td class="code"><pre><code class="hljs reasonml">static &#123;<br>    <span class="hljs-comment">// 获取线程组信息</span><br>    ThreadGroup tg = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Thread</span>.</span></span>current<span class="hljs-constructor">Thread()</span>.get<span class="hljs-constructor">ThreadGroup()</span>;<br>    <span class="hljs-keyword">for</span> (ThreadGroup tgn = tg;<br>         tgn != null;<br>         tg = tgn, tgn = tg.get<span class="hljs-constructor">Parent()</span>);<br>         <br>    <span class="hljs-comment">// 实例化的终结者线程，设置其优先级为8（相对其他守护线程会低一些）且为守护线程，并执行。</span><br>    Thread finalizer = <span class="hljs-keyword">new</span> <span class="hljs-constructor">FinalizerThread(<span class="hljs-params">tg</span>)</span>;<br>    finalizer.set<span class="hljs-constructor">Priority(Thread.MAX_PRIORITY - 2)</span>;<br>    finalizer.set<span class="hljs-constructor">Daemon(<span class="hljs-params">true</span>)</span>;<br>    finalizer.start<span class="hljs-literal">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>静态块中创建了一个FinalizerThread（终结者线程）类对象，也就是所谓的终结者线程，因此可知终结者线程会在Finalizer（终结者）类的类加载过程的初始化步骤完成创建。终结者线程专用于对f-queue中的Finalizer（终结者）类对象进行处理，即执行其所指对象/F类对象的finalize方法。终结者线程是一个守护线程，其优先级为8。</p>
<h2 id="方法-2"><a href="#方法-2" class="headerlink" title="方法"></a>方法</h2><p>Finalizer（终结者）类只有一个构造方法，通过调用父类FinalReference（终引用）类的构造方法实现。<br><figure class="highlight typescript"><table><tr><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-title">Finalizer</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> finalizee</span>)</span> &#123;<br>    <span class="hljs-built_in">super</span>(finalizee, queue);<br>    <span class="hljs-comment">// 将终结者对象加入未终结链表中。</span><br>    add();<br>&#125;<br></code></pre></td></tr></table></figure><br>其将queue（引用队列）字段的默认ReferenceQueue（引用队列）类对象作为Finalizer（终结者）类对象的注册引用队列，因此可知所有的Finalizer（终结者）类对象注册的都是同一个引用队列。与此同时该构造方法还会将Finalizer（终结者）类对象加入到未终结链表中。该构造方法是私有的，因此可知Finalizer（终结者）类对象无法直接在类的外部使用new创建。</p>
<p>注册<br><figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-function"><span class="hljs-title">register</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> finalizee</span>)</span> &#123;<br>    <span class="hljs-keyword">new</span> Finalizer(finalizee);<br>&#125;<br></code></pre></td></tr></table></figure><br>即实例化一个Finalizer（终结者）类对象并将之加入注册队列中，是直接调用构造方法实现的。register()是供JVM使用的，因此除非使用反射，否则开发者无法调用该方法。JVM会在F类创建时调用这个方法。</p>
<p>是否终结（false：否，true：是）<br><figure class="highlight typescript"><table><tr><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">private</span> <span class="hljs-built_in">boolean</span> <span class="hljs-function"><span class="hljs-title">hasBeenFinalized</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-keyword">return</span> (next == <span class="hljs-built_in">this</span>);<br>&#125;<br></code></pre></td></tr></table></figure><br>判断当前Finalizer（终结者）类对象是否已经从未终结链表中移除。终结者对象从终结者链表中移除时，会将前驱终结者/后继终结者设置为自身，因此只需判断是否为自身即可。</p>
<p>新增<br><figure class="highlight aspectj"><table><tr><td class="code"><pre><code class="hljs aspectj"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">synchronized</span> (lock) &#123;<br>        <span class="hljs-keyword">if</span> (unfinalized != <span class="hljs-keyword">null</span>) &#123;<br>            <span class="hljs-keyword">this</span>.next = unfinalized;<br>            unfinalized.prev = <span class="hljs-keyword">this</span>;<br>        &#125;<br>        unfinalized = <span class="hljs-keyword">this</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><br>将当前Finalizer（终结者）类对象添加进未终结链表中。该方法采用的是头插法，即新加入的Finalizer（终结者）类对象会成为头Finalizer（终结者）类对象，而原Finalizer（终结者）类对象则会成为其后继Finalizer（终结者）类对象。</p>
<p>移除<br><figure class="highlight kotlin"><table><tr><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">private</span> void remove() &#123;<br>    synchronized (lock) &#123;<br>        <span class="hljs-keyword">if</span> (unfinalized == <span class="hljs-keyword">this</span>) &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.next != <span class="hljs-literal">null</span>) &#123;<br>                unfinalized = <span class="hljs-keyword">this</span>.next;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                unfinalized = <span class="hljs-keyword">this</span>.prev;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.next != <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">this</span>.next.prev = <span class="hljs-keyword">this</span>.prev;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.prev != <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">this</span>.prev.next = <span class="hljs-keyword">this</span>.next;<br>        &#125;<br>        <span class="hljs-keyword">this</span>.next = <span class="hljs-keyword">this</span>;   <span class="hljs-comment">/* Indicates that this has been finalized */</span><br>        <span class="hljs-keyword">this</span>.prev = <span class="hljs-keyword">this</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><br>将当前Finalizer（终结者）类对象从未终结链表中移除。将Finalizer（终结者）类对象从未终结链表中移除并不需要遍历，因为其保存了前驱/后继Finalizer（终结者）类对象的引用，因此只需将前驱/后继Finalizer（终结者）类对象重新建立关联后将自身弹出即可。弹出的同时，需要将next（后继终结者）/prev（前驱终结者）字段指向自身，作为Finalizer（终结者）类对象已经移除的标志。</p>
<p>执行终结者<br><figure class="highlight processing"><table><tr><td class="code"><pre><code class="hljs processing"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> runFinalizer(JavaLangAccess jla) &#123;<br>    <span class="hljs-keyword">synchronized</span> (<span class="hljs-keyword">this</span>) &#123;<br>        <span class="hljs-comment">//  判断当前终结者对象是否已经终结，即判断其是否已从未终结链表中移除。是则直接返回，否则移除。</span><br>        <span class="hljs-keyword">if</span> (hasBeenFinalized()) <span class="hljs-keyword">return</span>;<br>        remove();<br>    &#125;<br>    <span class="hljs-comment">// 在catch块中执行终结者对象的所指对象的finalize()方法，目的是确保执行异常时不会中断终结者线程。</span><br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-keyword">Object</span> finalizee = <span class="hljs-keyword">this</span>.<span class="hljs-built_in">get</span>();<br>        <span class="hljs-keyword">if</span> (finalizee != <span class="hljs-keyword">null</span> &amp;&amp; !(finalizee <span class="hljs-keyword">instanceof</span> java.lang.Enum)) &#123;<br>            <span class="hljs-comment">// 调用所指对象的finalize()方法。</span><br>            jla.invokeFinalize(finalizee);<br>            <span class="hljs-comment">// 清除引用，以确保不会被GC错误的遗留。</span><br>            finalizee = <span class="hljs-keyword">null</span>;<br>        &#125;<br>    &#125; <span class="hljs-keyword">catch</span> (Throwable x) &#123; &#125;<br>    <span class="hljs-comment">// 清除所指对象与终引用对象（终结者对象）之间的关系，以确保所指对象顺利GC，而在此之前，所指对象不会被回收。</span><br>    <span class="hljs-keyword">super</span>.<span class="hljs-built_in">clear</span>();<br>&#125;<br></code></pre></td></tr></table></figure><br>该方法用于将Finalizer（终结者）类对象从未终结链表中移除，同时还负责执行其所指对象的finalize()方法，并在finalize()方法执行结束后断开与Finalizer（终结者）类对象的连接以令其可被GC回收。关于上述流程存在以下几个主要注意的点：</p>
<ul>
<li>finalization（终结）机制只保证finalize()方法一定会调用，但不保证会等待其执行结束。这是目前的主流说法，包括《深入理解Java虚拟机》一书中也是这么描述的。虽然从代码上看，似乎会执行完finalize()方法才会断开所指对象与Finalizer（终结者）类对象之间的关联时期被GC回收。但如果主流说法是正确的话，那关于finalize()方法的具体执行一定还有其它的影响条件。</li>
<li>finalize()方法只能被执行一次。一个F类对象之所以只能执行一次finalize()方法，是因为其在执行完finalize()方法后会断开其与Finalizer（终结者）类对象的关联。因此，即使在finalize()方法中将F类对象成功复活（即与GC Roots建立上关联），其也不再有Finalizer（终结者）类对象持有它了。一个没有Finalizer（终结者）类对象的F类对象自然是无法执行finalize()方法的。</li>
<li>F类对象至少要两次GC才能被真正回收。第一次GC将F类对象判定为可回收并执行finalization（终结）机制机制；第二次GC则会将执行完finalize()方法并断开与Finalizer（终结者）类对象关联的F类对象正式回收。而在这两次GC之间也可能存在有多次的GC，因此是至少两次。</li>
</ul>
<p>分叉二级终结者<br><figure class="highlight gradle"><table><tr><td class="code"><pre><code class="hljs gradle"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> forkSecondaryFinalizer(<span class="hljs-keyword">final</span> Runnable proc) &#123;<br>    <span class="hljs-comment">// 建一个二级终结者线程执行自定义操作，并等待其完成。</span><br>    AccessController.doPrivileged(<br>        <span class="hljs-keyword">new</span> PrivilegedAction&lt;<span class="hljs-keyword">Void</span>&gt;() &#123;<br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">Void</span> run() &#123;<br>                ThreadGroup tg = Thread.currentThread().getThreadGroup();<br>                <span class="hljs-keyword">for</span> (ThreadGroup tgn = tg;<br>                     tgn != <span class="hljs-keyword">null</span>;<br>                     tg = tgn, tgn = tg.getParent());<br>                <span class="hljs-comment">// 可以看到这是一个常规的线程，因此所谓的二级终结者线程只是名义上的，并不是真正的终结者线程。</span><br>                Thread sft = <span class="hljs-keyword">new</span> Thread(tg, proc, <span class="hljs-string">&quot;Secondary finalizer&quot;</span>);<br>                sft.start();<br>                <span class="hljs-keyword">try</span> &#123;<br>                    阻塞主线程。<br>                    sft.<span class="hljs-keyword">join</span>();<br>                &#125; <span class="hljs-keyword">catch</span> (InterruptedException x) &#123;<br>                    Thread.currentThread().interrupt();<br>                &#125;<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>            &#125;&#125;);<br>&#125;<br></code></pre></td></tr></table></figure><br>该方法用于创建一个名义上二级终结者线程来执行自定义操作，并等待其完成操作。之所以说是名义上的二级终结者线程，是因为其使用的是常规的Thread（线程）类，而不是Finalizer（终结者）类中定义的FinalizerThread（终结者线程类）类。该方法在类中有两处调用：runFinalization()及runAllFinalizers()。前者的执行操作与正常流程相同，相当于新开了一个线程来进行辅助加速；而后者的执行操作则是上文中提及的直接跳过正常流程中引用队列的步骤从未终结链表中获取Finalizer（终结者）类对象并向下执行。</p>
<p>执行终结<br><figure class="highlight arduino"><table><tr><td class="code"><pre><code class="hljs arduino"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">runFinalization</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (!VM.<span class="hljs-built_in">isBooted</span>()) &#123;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    forkSecondaryFinalizer(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Runnable</span>() &#123;<br>        <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> <span class="hljs-keyword">boolean</span> running;<br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-built_in">run</span>() &#123;<br>            <span class="hljs-comment">// in case of recursive call to run()</span><br>            <span class="hljs-keyword">if</span> (running)<br>                <span class="hljs-keyword">return</span>;<br>            <span class="hljs-keyword">final</span> JavaLangAccess jla = SharedSecrets.<span class="hljs-built_in">getJavaLangAccess</span>();<br>            running = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">for</span> (;;) &#123;<br>            <span class="hljs-comment">// 从引用队列（f-queue）中取出终结者对象，如果引用队列中不存在终结者对象，则直接结束循环并退出线程。因此</span><br>            <span class="hljs-comment">// 可知该方法可有助于加速引用队列及未终结链表中终结者的处理流程。</span><br>                Finalizer f = (Finalizer)queue.<span class="hljs-built_in">poll</span>();<br>                <span class="hljs-comment">// 执行终结者对象的所指对象的finalize()方法。</span><br>                <span class="hljs-keyword">if</span> (f == null) <span class="hljs-keyword">break</span>;<br>                f.<span class="hljs-built_in">runFinalizer</span>(jla);<br>            &#125;<br>        &#125;<br>    &#125;);<br>&#125;<br></code></pre></td></tr></table></figure><br>该方法的代码逻辑与正常流程相同，且会调用forkSecondaryFinalizer()方法创建一个二级终结者线程执行。该方法在Runtime（运行）类中存在调用，而该类与程序运行息息相关，因此猜测该方法应该是程序在某些情况下（例如空间内存不足等）用于加速finalization（终结）机制所用，毕竟…两个线程处理肯定会比一个线程快一些。</p>
<p>运行全终结者<br><figure class="highlight arduino"><table><tr><td class="code"><pre><code class="hljs arduino"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">runAllFinalizers</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (!VM.<span class="hljs-built_in">isBooted</span>()) &#123;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    forkSecondaryFinalizer(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Runnable</span>() &#123;<br>        <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> <span class="hljs-keyword">boolean</span> running;<br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-built_in">run</span>() &#123;<br>            <span class="hljs-comment">// in case of recursive call to run()</span><br>            <span class="hljs-keyword">if</span> (running)<br>                <span class="hljs-keyword">return</span>;<br>            <span class="hljs-keyword">final</span> JavaLangAccess jla = SharedSecrets.<span class="hljs-built_in">getJavaLangAccess</span>();<br>            running = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">for</span> (;;) &#123;<br>                <span class="hljs-comment">// 直接从未终结链表中获取终结者对象，并将之从未终结链表中移除并执行其所指对象的finalize()方法。当未终结链表</span><br>                <span class="hljs-comment">// 为空时退出循环。该操作不会影响主流程，当主流程从引用队列中获取到终结者对象后，会先判断该终结者对象是否已</span><br>                <span class="hljs-comment">// 经从未终结链表中移除，因此不会导致所指对象的finalize()方法重复调用。</span><br>                Finalizer f;<br>                <span class="hljs-built_in">synchronized</span> (lock) &#123;<br>                    f = unfinalized;<br>                    <span class="hljs-keyword">if</span> (f == null) <span class="hljs-keyword">break</span>;<br>                    unfinalized = f.next;<br>                &#125;<br>                f.<span class="hljs-built_in">runFinalizer</span>(jla);<br>            &#125;&#125;&#125;);<br>&#125;<br></code></pre></td></tr></table></figure><br>该方法会跳过正常流程中引用队列的步骤从未终结链表中获取Finalizer（终结者）类对象，且会调用forkSecondaryFinalizer()方法创建一个二级终结者线程执行。该方法在Shutdown（关闭）类中存在调用，而从该类的类名猜测，该方法应该是程序关闭前用于紧急处理剩余Finalizer（终结者）类对象所用，毕竟按照正常流程还需要等待GC判定回收F类回收。而如果在程序关闭前没有处理掉所有的Finalizer（终结者）类对象的话，就有可能导致资源泄露的危险（finalization（终结）机制一般都会用来保证资源回收/释放上）。</p>
<h2 id="FinalizerThread"><a href="#FinalizerThread" class="headerlink" title="FinalizerThread"></a>FinalizerThread</h2><p>FinalizerThread（终结者线程类）类是Finalizer（终结者）类的一个私有静态内部类，其继承自Thread（线程）类，因此可知其对象为一个线程。</p>
<p>running（是否运行） —— 该字段用于判断finalization（终结）机制是否已经运行，以避免在递归的情况下重复执行…但从源码中似乎没有发现有递归调用的地方。<br><code>volatile boolean running;</code></p>
<p>该方法继承自Thread（线程）类，用于定义线程执行的任务。该方法中定义了finalization（终结）机制的正常流程。<br><figure class="highlight arduino"><table><tr><td class="code"><pre><code class="hljs arduino"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// 如果正在运行，则直接返回，这是为了避免在递归的情况下重复执行。</span><br>    <span class="hljs-keyword">if</span> (running)<br>        <span class="hljs-keyword">return</span>;<br><br>    <span class="hljs-comment">// 终结者线程先于System.initializeSystemClass被调用。等待直到JavaLangAccess可以访问</span><br>    <span class="hljs-keyword">while</span> (!VM.<span class="hljs-built_in">isBooted</span>()) &#123;<br>        <span class="hljs-comment">// delay until VM completes initialization</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            VM.<span class="hljs-built_in">awaitBooted</span>();<br>        &#125; <span class="hljs-built_in"><span class="hljs-keyword">catch</span></span> (InterruptedException x) &#123;<br>            <span class="hljs-comment">// ignore and continue</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">final</span> JavaLangAccess jla = SharedSecrets.<span class="hljs-built_in">getJavaLangAccess</span>();<br>    <span class="hljs-comment">// 将运行状态设置为true，表示已经开始终结工作。</span><br>    running = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span> (;;) &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">// 从引用队列中获取终结者对象（remove方法是一个阻塞方法，会一直阻塞到能获取到对象为止）。</span><br>            Finalizer f = (Finalizer)queue.<span class="hljs-built_in">remove</span>();<br>            <span class="hljs-comment">// 执行终结者对象的runFinalizer()方法。</span><br>            f.<span class="hljs-built_in">runFinalizer</span>(jla);<br>        &#125; <span class="hljs-built_in"><span class="hljs-keyword">catch</span></span> (InterruptedException x) &#123;<br>            <span class="hljs-comment">// ignore and continue</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></p>
<h2 id="Cleaner"><a href="#Cleaner" class="headerlink" title="Cleaner"></a>Cleaner</h2><p><strong><em>本文讲述的是JDK8中位于sun.misc包下的Cleaner（清洁工）类（高版本中被迁移至jdk.internal.ref包）。而从JDK9开始，Java在java.lang.ref包下实现了另一个清洁工类，且该类并非PhantomReference（虚引用）类的子类。虽说作用高度相似，但实际上两者却各自发挥着作用，因此请注意区别两者。由于新清洁工类自身携带有一套完整运行流程的缘故，因此目前的主流说法中都将JDK9版本清洁工类的运行流程称之为清洁工机制，故本文中不会出现清洁工机制这个称呼。</em></strong></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><img src="/img/Reference/4.png" alt="github"></p>
<ol>
<li>发现列表是由GC维护的引用列表，关于他的资料很少，源码中仅有几句描述，目前唯一知道的是发现列表会保存所有引用。发现列表中的引用为活跃状态，由于活跃状态是引用的初始状态，并且初始状态下其必然持有发现列表中的后继引用，因此可知引用在被创建时就被加入发现列表。发现列表中的引用会收到GC的特殊处理。</li>
<li>GC线程会将发现列表中所指对象已被GC回收的引用移除，并半段其是否注册引用列表。否则直接抛出，变为怠惰状态；是则以头插法将引用加入待定列表。待定列表是引用加入引用队列前的临时存放点，此时引用为待定状态。</li>
<li>引用处理器线程（唯一）不断循环的待定列表的头部取出引用，如果引用是清洁工则执行自定义操作（清洁工）后抛出，引用变为怠惰状态，这是一个特殊判断；如果不是则将引用以头插法加入各自注册的引用队列中，此时引用为入队状态。</li>
<li>Java线程从引用队列头部取出引用，以确定引用的所指对象已被GC回收，并以此为契机执行自定义操作，此时引用变为怠惰状态。</li>
<li>f-queue是由终结者类内部创建的全局唯一引用队列，所有的终结者都会被加入该引用队列中。</li>
<li>终结者线程会持续将终结者从f-queue头部出队，并将其从未终结链表中移除，随后执行其所指对象的<code>finalize()</code>方法。<code>finalize()</code>方法执行结束后，终结者与其所指对象的才会断开，这与JDK8之前的虚引用很相似，但与其他引用不同。</li>
<li>当F类对象创建时，JVM会自动将之作为所指对象创建终结者。终结者除发现列表外还会被加入到未终结列表中。未终结列表是一个全局唯一的双向链表，作用是持有终结者的引用以防止被GC回收。</li>
<li>清洁工除发现列表外还会加入到清洁工链表。清洁工链表是一个全局唯一的双向链表，作用是持有清洁工的引用以防止被GC回收。</li>
</ol>

      
       
    </div>
</article>





    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: '07584e1e38d09c739a16',
            clientSecret: '6a466750b46c76ed9cc8ee0fe0d78e0c33898937',
            repo: 'yangandmore.github.io',
            owner: 'Yangandmore',
            admin: ['Yangandmore'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>




    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2016-2020 Yangandmore
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
